{"ast":null,"code":"import _slicedToArray from\"D:/Projects/Alexandria/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import Axios from'axios';import{withRouter}from'react-router-dom';function Navigation(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),genres=_useState2[0],setGenres=_useState2[1];useEffect(function(){var mounted=true;Axios.get('http://localhost:8000/api/genres/getAll',{withCredentials:true}).then(function(res){if(mounted){setGenres(res.data);}}).catch(function(){return props.history.push('/error');});return function(){mounted=false;};},[props.history]);var genreList=genres.map(function(genre){return/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){props.history.push(\"/books?genre=\".concat(genre.name));window.location.reload();},children:genre.name},genre.name);});return/*#__PURE__*/_jsxs(\"div\",{className:\"nav-bar\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){props.history.push('/books');window.location.reload();},children:\"All\"},\"all\"),genreList]});}export default withRouter(Navigation);","map":{"version":3,"sources":["D:/Projects/Alexandria/client/src/components/partial/navigation.jsx"],"names":["React","useState","useEffect","Axios","withRouter","Navigation","props","genres","setGenres","mounted","get","withCredentials","then","res","data","catch","history","push","genreList","map","genre","name","window","location","reload"],"mappings":"4OAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CAEA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA0B,eACML,QAAQ,CAAC,EAAD,CADd,wCACfM,MADe,eACPC,SADO,eAGtBN,SAAS,CAAC,UAAM,CACZ,GAAIO,CAAAA,OAAO,CAAG,IAAd,CAEAN,KAAK,CAACO,GAAN,CAAU,yCAAV,CAAqD,CAACC,eAAe,CAAE,IAAlB,CAArD,EACCC,IADD,CACM,SAAAC,GAAG,CAAI,CACT,GAAGJ,OAAH,CAAW,CACPD,SAAS,CAACK,GAAG,CAACC,IAAL,CAAT,CACH,CACJ,CALD,EAMCC,KAND,CAMO,iBAAMT,CAAAA,KAAK,CAACU,OAAN,CAAcC,IAAd,CAAmB,QAAnB,CAAN,EANP,EAQA,MAAO,WAAM,CACTR,OAAO,CAAG,KAAV,CACH,CAFD,CAGH,CAdQ,CAcN,CAACH,KAAK,CAACU,OAAP,CAdM,CAAT,CAgBA,GAAME,CAAAA,SAAS,CAAGX,MAAM,CAACY,GAAP,CAAW,SAAAC,KAAK,CAAI,CAClC,mBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,kBAAM,CAACd,KAAK,CAACU,OAAN,CAAcC,IAAd,wBAAmCG,KAAK,CAACC,IAAzC,GAAmDC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAAyB,CAAlH,UAAsIJ,KAAK,CAACC,IAA5I,EAAyHD,KAAK,CAACC,IAA/H,CADJ,CAGH,CAJiB,CAAlB,CAMA,mBACI,aAAK,SAAS,CAAC,SAAf,wBACI,eAAkB,IAAI,CAAC,QAAvB,CAAgC,OAAO,CAAE,kBAAM,CAACf,KAAK,CAACU,OAAN,CAAcC,IAAd,CAAmB,QAAnB,EAA8BK,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAAyB,CAAvG,iBAAY,KAAZ,CADJ,CAEKN,SAFL,GADJ,CAMH,CAED,cAAed,CAAAA,UAAU,CAACC,UAAD,CAAzB","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nfunction Navigation(props){ \r\n    const [genres, setGenres] = useState([]);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        \r\n        Axios.get('http://localhost:8000/api/genres/getAll', {withCredentials: true})\r\n        .then(res => {\r\n            if(mounted){\r\n                setGenres(res.data);\r\n            }\r\n        })\r\n        .catch(() => props.history.push('/error'));\r\n        \r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [props.history]);\r\n\r\n    const genreList = genres.map(genre => {\r\n        return(\r\n            <button type=\"button\" onClick={() => {props.history.push(`/books?genre=${genre.name}`);  window.location.reload()}} key={genre.name}>{genre.name}</button>\r\n        );\r\n    });\r\n\r\n    return(\r\n        <div className=\"nav-bar\">\r\n            <button key=\"all\" type=\"button\" onClick={() => {props.history.push('/books'); window.location.reload()}}>All</button>\r\n            {genreList}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(Navigation);\r\n"]},"metadata":{},"sourceType":"module"}