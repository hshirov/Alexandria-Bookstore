{"ast":null,"code":"import _slicedToArray from\"D:/Projects/Alexandria/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import{withRouter}from'react-router-dom';import{app}from'../../firebase/index';import{BeatLoader}from'react-spinners';function FeaturedBook(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),imageUrl=_useState2[0],setImageUrl=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var mounted=true;if(mounted){var storageRef=app.storage().ref();storageRef.child(\"\".concat(props.book.image)).getDownloadURL().then(function(url){setImageUrl(url);setLoading(false);}).catch(function(){return props.history.push('/error');});}return function(){mounted=false;};},[props.book.image,props.history]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",children:/*#__PURE__*/_jsx(BeatLoader,{loading:true})});}return/*#__PURE__*/_jsx(\"div\",{className:\"featured-book-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"featured-image-container\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){props.history.push(\"/book/\"+props.book.title);},children:/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:\"\"})})})});}export default withRouter(FeaturedBook);","map":{"version":3,"sources":["D:/Projects/Alexandria/client/src/components/partial/featuredBook.jsx"],"names":["React","useState","useEffect","withRouter","app","BeatLoader","FeaturedBook","props","imageUrl","setImageUrl","loading","setLoading","mounted","storageRef","storage","ref","child","book","image","getDownloadURL","then","url","catch","history","push","title"],"mappings":"+LAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,OAAQC,GAAR,KAAkB,sBAAlB,CACA,OAAQC,UAAR,KAAyB,gBAAzB,CAEA,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA4B,eACQN,QAAQ,CAAC,EAAD,CADhB,wCACjBO,QADiB,eACPC,WADO,8BAEMR,QAAQ,CAAC,IAAD,CAFd,yCAEjBS,OAFiB,eAERC,UAFQ,eAIxBT,SAAS,CAAC,UAAM,CACZ,GAAIU,CAAAA,OAAO,CAAG,IAAd,CAEA,GAAGA,OAAH,CAAW,CACP,GAAMC,CAAAA,UAAU,CAAGT,GAAG,CAACU,OAAJ,GAAcC,GAAd,EAAnB,CACAF,UAAU,CAACG,KAAX,WAAoBT,KAAK,CAACU,IAAN,CAAWC,KAA/B,GAAwCC,cAAxC,GACCC,IADD,CACM,SAACC,GAAD,CAAS,CACPZ,WAAW,CAACY,GAAD,CAAX,CACAV,UAAU,CAAC,KAAD,CAAV,CACH,CAJL,EAMCW,KAND,CAMO,iBAAMf,CAAAA,KAAK,CAACgB,OAAN,CAAcC,IAAd,CAAmB,QAAnB,CAAN,EANP,EAOH,CAED,MAAO,WAAM,CACTZ,OAAO,CAAG,KAAV,CACH,CAFD,CAGH,CAjBQ,CAiBN,CAACL,KAAK,CAACU,IAAN,CAAWC,KAAZ,CAAmBX,KAAK,CAACgB,OAAzB,CAjBM,CAAT,CAmBA,GAAGb,OAAH,CAAW,CACP,mBAAO,YAAK,SAAS,CAAC,mBAAf,uBAAmC,KAAC,UAAD,EAAY,OAAO,KAAnB,EAAnC,EAAP,CACH,CAED,mBACI,YAAK,SAAS,CAAC,oBAAf,uBACQ,YAAK,SAAS,CAAC,0BAAf,uBACI,eAAQ,OAAO,CAAE,kBAAM,CAACH,KAAK,CAACgB,OAAN,CAAcC,IAAd,CAAmB,SAAWjB,KAAK,CAACU,IAAN,CAAWQ,KAAzC,EAAgD,CAAxE,uBACI,YAAK,GAAG,CAAEjB,QAAV,CAAoB,GAAG,CAAC,EAAxB,EADJ,EADJ,EADR,EADJ,CASH,CAED,cAAeL,CAAAA,UAAU,CAACG,YAAD,CAAzB","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {app} from '../../firebase/index';\r\nimport {BeatLoader} from 'react-spinners';\r\n\r\nfunction FeaturedBook(props){\r\n    const [imageUrl, setImageUrl] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        if(mounted){\r\n            const storageRef = app.storage().ref();\r\n            storageRef.child(`${props.book.image}`).getDownloadURL()\r\n            .then((url) => {\r\n                    setImageUrl(url);\r\n                    setLoading(false);\r\n                }\r\n            )\r\n            .catch(() => props.history.push('/error'));\r\n        }\r\n\r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [props.book.image, props.history]);\r\n\r\n    if(loading){\r\n        return <div className=\"loading-container\"><BeatLoader loading/></div>;\r\n    }\r\n\r\n    return(\r\n        <div className=\"featured-book-item\">\r\n                <div className=\"featured-image-container\">\r\n                    <button onClick={() => {props.history.push(\"/book/\" + props.book.title)}}>\r\n                        <img src={imageUrl} alt=\"\"/>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(FeaturedBook);"]},"metadata":{},"sourceType":"module"}