{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){\"use strict\";a.r(t);var n=a(0),c=a(1),i=a(18),o=a.n(i),s=a(11),r=a(8),l=a(2),h=a(3),j=a.n(h),b=a(5),u=a(9);a(38);var d=function(e){var t=Object(c.useState)(\"\"),a=Object(l.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)(\"\"),h=Object(l.a)(s,2),d=h[0],O=h[1],m=Object(c.useState)(\"\"),p=Object(l.a)(m,2),f=p[0],x=p[1],g=Object(c.useState)([]),v=Object(l.a)(g,2),k=v[0],N=v[1],w=Object(c.useState)(!1),y=Object(l.a)(w,2),C=y[0],S=y[1],A=Object(c.useState)(null),L=Object(l.a)(A,2),T=L[0],B=L[1],E=Object(c.useState)(!0),_=Object(l.a)(E,2),P=_[0],I=_[1];if(u.a.configure(),Object(c.useEffect)((function(){j.a.get(\"http://localhost:8000/api/checkAuthentication\",{withCredentials:!0}).then((function(e){B(e.data),I(!1)})).catch((function(){return e.history.push(\"/error\")}))}),[e.history]),P)return Object(n.jsx)(\"div\",{className:\"loading-container\",children:Object(n.jsx)(b.BeatLoader,{loading:!0})});if(T)return Object(n.jsx)(r.a,{to:{pathname:\"/\",state:{from:e.location}}});var R=k.map((function(e){return Object(n.jsx)(\"div\",{className:\"alert\",role:\"alert\",children:e.msg},e.msg)}));return Object(n.jsxs)(\"div\",{className:\"form-container\",children:[Object(n.jsxs)(\"form\",{className:\"form\",children:[Object(n.jsx)(\"p\",{className:\"form-title\",children:\"Register as a new user\"}),Object(n.jsx)(\"div\",{className:\"input-title\",children:\"Email\"}),Object(n.jsx)(\"input\",{type:\"email\",name:\"email\",onChange:function(e){return o(e.target.value)},value:i}),Object(n.jsx)(\"br\",{}),Object(n.jsx)(\"div\",{className:\"input-title\",children:\"Password\"}),Object(n.jsx)(\"input\",{type:\"password\",name:\"password\",onChange:function(e){return O(e.target.value)},value:d}),Object(n.jsx)(\"br\",{}),Object(n.jsx)(\"div\",{className:\"input-title\",children:\"Confirm password\"}),Object(n.jsx)(\"input\",{type:\"password\",name:\"confirmPassword\",onChange:function(e){return x(e.target.value)},value:f}),Object(n.jsx)(\"br\",{}),Object(n.jsx)(\"div\",{className:\"submit-container\",children:Object(n.jsx)(\"button\",{className:\"submit-button\",onClick:function(t){t.preventDefault(),N([]),j.a.post(\"http://localhost:8000/api/signup\",{email:i,password:d,confirmPassword:f}).then((function(e){var t=e.data.errors;t.length>0&&\"Succesfully created\"===t[0].msg?(u.a.success(\"Account created successfully!\",{position:u.a.POSITION.BOTTOM_RIGHT,pauseOnHover:!1,autoClose:2e3}),o(\"\"),O(\"\"),x(\"\"),S(!0)):N(t)})).catch((function(){e.history.push(\"/error\")}))},children:\"SIGN UP\"})})]}),Object(n.jsxs)(\"div\",{className:\"alert-container\",children:[Object(n.jsx)(\"div\",{className:\"alert\",role:\"alert\",style:{display:C?\"\":\"none\"},children:\"Please, check your email for confirmation.\"}),R]})]})};a(98);var O=Object(r.g)((function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),i=a[0],o=a[1];Object(c.useEffect)((function(){var t=!0;return j.a.get(\"http://localhost:8000/api/genres/getAll\",{withCredentials:!0}).then((function(e){t&&o(e.data)})).catch((function(){return e.history.push(\"/error\")})),function(){t=!1}}),[e.history]);var s=i.map((function(t){return Object(n.jsx)(\"button\",{type:\"button\",onClick:function(){e.history.push(\"/books?genre=\".concat(t.name)),window.location.reload()},children:t.name},t.name)}));return Object(n.jsxs)(\"div\",{className:\"nav-bar\",children:[Object(n.jsx)(\"button\",{type:\"button\",onClick:function(){e.history.push(\"/books\"),window.location.reload()},children:\"All\"},\"all\"),s]})})),m=a(21),p=(a(107),{apiKey:Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_API_KEY,authDomain:\"alexandria-53ea0.firebaseapp.com\",projectId:\"alexandria-53ea0\",storageBucket:\"alexandria-53ea0.appspot.com\",messagingSenderId:\"399793836289\",appId:Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_APP_ID,measurementId:\"G-NRTW5NVMNN\"}),f=m.b.initializeApp(p);var x=Object(r.g)((function(e){var t=Object(c.useState)(\"\"),a=Object(l.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)(!0),r=Object(l.a)(s,2),h=r[0],j=r[1];return Object(c.useEffect)((function(){var t=!0;t&&f.storage().ref().child(\"\".concat(e.book.image)).getDownloadURL().then((function(e){o(e),j(!1)})).catch((function(){return e.history.push(\"/error\")}));return function(){t=!1}}),[e.book.image,e.history]),h?Object(n.jsx)(\"div\",{className:\"loading-container\",children:Object(n.jsx)(b.BeatLoader,{loading:!0})}):Object(n.jsx)(\"div\",{className:\"featured-book-item\",children:Object(n.jsx)(\"div\",{className:\"featured-image-container\",children:Object(n.jsx)(\"button\",{onClick:function(){e.history.push(\"/book/\"+e.book.title)},children:Object(n.jsx)(\"img\",{src:i,alt:\"\"})})})})}));var g=function(){return Object(n.jsxs)(\"div\",{className:\"footer\",children:[\"Developed by \",Object(n.jsx)(\"a\",{href:\"https://github.com/hshirov\",children:\"Hristo Shirov\"})]})};var v=Object(r.g)((function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)(!0),r=Object(l.a)(s,2),h=r[0],u=r[1];Object(c.useEffect)((function(){var t=!0;return j.a.get(\"http://localhost:8000/api/books/getAllFeatured\",{withCredentials:!0}).then((function(e){t&&(o(e.data),u(!1))})).catch((function(){return e.history.push(\"/error\")})),function(){t=!1}}),[e.history]);var d=i.map((function(e){return Object(n.jsx)(x,{book:e},e.title)}));return h?Object(n.jsx)(\"div\",{className:\"loading-container\",children:Object(n.jsx)(b.BeatLoader,{loading:!0})}):Object(n.jsxs)(\"div\",{children:[Object(n.jsx)(O,{}),Object(n.jsx)(\"h2\",{className:\"featured-title\",children:\"Featured\"}),Object(n.jsx)(\"div\",{className:\"featured-container\",children:d}),Object(n.jsx)(g,{})]})}));var k=function(e){var t=Object(c.useState)(\"\"),a=Object(l.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)(\"\"),h=Object(l.a)(s,2),u=h[0],d=h[1],O=Object(c.useState)([]),m=Object(l.a)(O,2),p=m[0],f=m[1],x=Object(c.useState)(null),g=Object(l.a)(x,2),v=g[0],k=g[1],N=Object(c.useState)(!0),w=Object(l.a)(N,2),y=w[0],C=w[1];if(Object(c.useEffect)((function(){j.a.get(\"http://localhost:8000/api/checkAuthentication\",{withCredentials:!0}).then((function(e){k(e.data),C(!1)})).catch((function(){return e.history.push(\"/error\")}))}),[e.history]),y)return Object(n.jsx)(\"div\",{className:\"loading-container\",children:Object(n.jsx)(b.BeatLoader,{loading:!0})});if(v)return Object(n.jsx)(r.a,{to:{pathname:\"/\",state:{from:e.location}}});var S=p.map((function(e){return Object(n.jsx)(\"div\",{className:\"alert\",role:\"alert\",children:e.msg},e.msg)}));return Object(n.jsxs)(\"div\",{className:\"form-container\",children:[Object(n.jsxs)(\"form\",{className:\"form\",children:[Object(n.jsx)(\"p\",{className:\"form-title\",children:\"Login as existing user\"}),Object(n.jsx)(\"div\",{className:\"input-title\",children:\"Email\"}),Object(n.jsx)(\"input\",{type:\"email\",name:\"email\",onChange:function(e){return o(e.target.value)},value:i}),Object(n.jsx)(\"div\",{className:\"input-title\",children:\"Password\"}),Object(n.jsx)(\"input\",{type:\"password\",name:\"password\",onChange:function(e){return d(e.target.value)},value:u}),Object(n.jsxs)(\"div\",{className:\"submit-container\",children:[Object(n.jsx)(\"button\",{className:\"submit-button\",onClick:function(t){t.preventDefault(),f([]),j.a.post(\"http://localhost:8000/api/login\",{email:i,password:u},{withCredentials:!0}).then((function(t){var a=t.data.errors;a.length>0&&\"Successfully Authenticated\"===a[0].msg?(e.history.push(\"/\"),window.location.reload()):f(a)})).catch((function(){e.history.push(\"/error\")}))},children:\"LOGIN\"}),Object(n.jsx)(\"br\",{}),\"or \",Object(n.jsx)(\"button\",{onClick:function(){return e.history.push(\"/signup\")},children:\"Sign up\"})]})]}),Object(n.jsx)(\"div\",{className:\"alert-container\",children:S})]})};a(41),a(22);function N(e){return Object(n.jsxs)(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:e.width,height:e.height,fill:\"currentColor\",className:\"bi bi-bag-plus\",viewBox:\"0 0 16 16\",children:[Object(n.jsx)(\"path\",{fillRule:\"evenodd\",d:\"M8 1a2.5 2.5 0 0 0-2.5 2.5V4h5v-.5A2.5 2.5 0 0 0 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5H2z\"}),Object(n.jsx)(\"path\",{fillRule:\"evenodd\",d:\"M8 7.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0v-1.5H6a.5.5 0 0 1 0-1h1.5V8a.5.5 0 0 1 .5-.5z\"})]})}function w(e){return Object(n.jsx)(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:e.width,height:e.height,fill:\"currentColor\",className:\"bi bi-sort-down\",viewBox:\"0 -2 16 16\",children:Object(n.jsx)(\"path\",{d:\"M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293V2.5zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z\"})})}function y(e){return Object(n.jsx)(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:e.width,height:e.height,fill:\"currentColor\",className:\"bi bi-sort-down-alt\",viewBox:\"0 -2 16 16\",children:Object(n.jsx)(\"path\",{d:\"M3.5 3.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 12.293V3.5zm4 .5a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm0 3a.5.5 0 0 1 0-1h3a.5.5 0 0 1 0 1h-3zm0 3a.5.5 0 0 1 0-1h5a.5.5 0 0 1 0 1h-5zM7 12.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7a.5.5 0 0 0-.5.5z\"})})}function C(e){return Object(n.jsx)(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:e.width,height:e.height,fill:\"#d90000\",className:\"bi bi-x\",viewBox:\"3 0 16 16\",children:Object(n.jsx)(\"path\",{d:\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"})})}function S(e){return Object(n.jsx)(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:e.width,height:e.height,fill:\"currentColor\",className:\"bi bi-check\",viewBox:\"0 -3 16 16\",children:Object(n.jsx)(\"path\",{fillRule:\"evenodd\",d:\"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z\"})})}function A(e){return Object(n.jsxs)(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:e.width,height:e.height,fill:\"currentColor\",className:\"bi bi-box-arrow-right\",viewBox:\"0 0 16 16\",children:[Object(n.jsx)(\"path\",{fillRule:\"evenodd\",d:\"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z\"}),Object(n.jsx)(\"path\",{fillRule:\"evenodd\",d:\"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z\"})]})}function L(e){return Object(n.jsx)(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:e.width,height:e.height,fill:\"currentColor\",className:\"bi bi-basket3\",viewBox:\"0 0 16 16\",children:Object(n.jsx)(\"path\",{fillRule:\"evenodd\",d:\"M5.757 1.071a.5.5 0 0 1 .172.686L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15.5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H.5a.5.5 0 0 1-.5-.5v-1A.5.5 0 0 1 .5 6h1.717L5.07 1.243a.5.5 0 0 1 .686-.172zM3.394 15l-1.48-6h-.97l1.525 6.426a.75.75 0 0 0 .729.574h9.606a.75.75 0 0 0 .73-.574L15.056 9h-.972l-1.479 6h-9.21z\"})})}var T=Object(r.g)((function(e){var t=Object(c.useState)(\"\"),a=Object(l.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)(!0),r=Object(l.a)(s,2),h=r[0],j=r[1];return Object(c.useEffect)((function(){var t=!0;t&&f.storage().ref().child(\"\".concat(e.book.image)).getDownloadURL().then((function(e){o(e),j(!1)})).catch((function(){return e.history.push(\"/error\")}));return function(){t=!1}}),[e.book.image,e.history]),h?Object(n.jsx)(\"div\",{className:\"loading-container\",children:Object(n.jsx)(b.BeatLoader,{loading:!0})}):Object(n.jsxs)(\"div\",{className:\"book-item\",children:[Object(n.jsx)(\"div\",{className:\"image-container\",children:Object(n.jsx)(\"button\",{onClick:function(){e.history.push(\"/book/\"+e.book.title)},children:Object(n.jsx)(\"img\",{src:i,alt:\"\"})})}),Object(n.jsxs)(\"div\",{className:\"description-container\",children:[Object(n.jsx)(\"h2\",{className:\"book-title\",children:e.book.title}),Object(n.jsx)(\"h3\",{className:\"book-author\",children:e.book.author}),Object(n.jsx)(\"button\",{className:\"book-add-to-basket\",title:\"Add to basket\",onClick:function(){e.addToBasket(e.book._id)},style:{display:e.book.available?\"\":\"none\"},children:Object(n.jsx)(N,{width:\"20\",height:\"20\"})})]})]},e.book._id)})),B=a(42);var E=Object(r.g)((function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)(B.parse(e.location.search,{ignoreQueryPrefix:!0}).genre),r=Object(l.a)(s,1)[0],h=Object(c.useState)(B.parse(e.location.search,{ignoreQueryPrefix:!0}).orderby),d=Object(l.a)(h,1)[0],m=Object(c.useState)(B.parse(e.location.search,{ignoreQueryPrefix:!0}).descending),p=Object(l.a)(m,1)[0],f=Object(c.useState)(!0),x=Object(l.a)(f,2),g=x[0],v=x[1];u.a.configure(),Object(c.useEffect)((function(){var t=!0,a=\"http://localhost:8000/api/books/getAll?genre=\".concat(r||\"\",\"&orderby=\").concat(d||\"title\",\"&descending=\").concat(p||\"false\");return j.a.get(a,{withCredentials:!0}).then((function(e){t&&(o(e.data),v(!1))})).catch((function(){return e.history.push(\"/error\")})),function(){t=!1}}),[r,p,d,e.history]);var k=function(e){j.a.get(\"http://localhost:8000/api/basket/add/\".concat(e),{withCredentials:!0}).then((function(){u.a.info(\"Book added to basket!\",{position:u.a.POSITION.BOTTOM_RIGHT,pauseOnHover:!1,autoClose:2e3})}))},N=function(t,a,n){e.history.push({pathname:\"/books\",search:\"?genre=\".concat(t||\"\",\"&orderby=\").concat(a||\"title\",\"&descending=\").concat(n||\"false\")}),window.location.reload()},C=i.map((function(e){return Object(n.jsx)(T,{book:e,addToBasket:k},e.title)}));return g?Object(n.jsx)(\"div\",{className:\"loading-container\",children:Object(n.jsx)(b.BeatLoader,{loading:!0})}):Object(n.jsxs)(\"div\",{children:[Object(n.jsx)(O,{}),Object(n.jsx)(\"h1\",{className:\"genre-title\",children:r}),Object(n.jsx)(\"div\",{className:\"sort-options-container\",children:Object(n.jsxs)(\"form\",{className:\"order-by-form\",children:[Object(n.jsxs)(\"label\",{children:[\"Order by:\\xa0\",Object(n.jsxs)(\"select\",{value:d,onChange:function(e){return N(r,e.target.value,p)},children:[Object(n.jsx)(\"option\",{value:\"title\",children:\"Title\"}),Object(n.jsx)(\"option\",{value:\"author\",children:\"Author\"}),Object(n.jsx)(\"option\",{value:\"price\",children:\"Price\"})]})]}),Object(n.jsx)(\"button\",{type:\"button\",onClick:function(){return N(r,d,\"true\"===p?\"false\":\"true\")},children:\"true\"===p?Object(n.jsx)(w,{width:\"20\",height:\"20\"}):Object(n.jsx)(y,{width:\"20\",height:\"20\"})})]})}),Object(n.jsx)(\"div\",{className:\"book-container\",children:C})]})}));var _=Object(r.g)((function(e){var t=Object(c.useState)({}),a=Object(l.a)(t,2),i=a[0],o=a[1],s=e.match.params.title,r=Object(c.useState)(!0),h=Object(l.a)(r,2),d=h[0],O=h[1],m=Object(c.useState)(\"\"),p=Object(l.a)(m,2),x=p[0],g=p[1];u.a.configure(),Object(c.useEffect)((function(){var t=!0;return j.a.get(\"http://localhost:8000/api/books/get/\".concat(s),{withCredentials:!0}).then((function(e){t&&(o(e.data),f.storage().ref().child(\"\".concat(e.data.image)).getDownloadURL().then((function(e){g(e),O(!1)})))})).catch((function(){return e.history.push(\"/error\")})),function(){t=!1}}),[s,e.history]);var v=i.available?Object(n.jsxs)(\"p\",{className:\"single-book-in-stock\",children:[Object(n.jsx)(S,{width:\"20\",height:\"20\"}),\"In stock\"]}):Object(n.jsx)(\"p\",{className:\"single-book-out-of-stock\",children:\"Out of stock\"});return d?Object(n.jsx)(\"div\",{className:\"loading-container\",children:Object(n.jsx)(b.BeatLoader,{loading:!0})}):Object(n.jsxs)(\"div\",{className:\"single-book-container\",children:[Object(n.jsx)(\"div\",{className:\"single-book-image\",children:Object(n.jsx)(\"img\",{src:x,alt:\"\"})}),Object(n.jsxs)(\"div\",{className:\"single-book-info\",children:[Object(n.jsx)(\"h1\",{className:\"single-book-title\",children:i.title}),Object(n.jsxs)(\"h2\",{className:\"single-book-author\",children:[\"by \",i.author]}),Object(n.jsxs)(\"p\",{className:\"single-book-genre\",children:[\"Genre: \",i.genre]}),Object(n.jsxs)(\"p\",{className:\"single-book-date\",style:{display:\"\"===i.publishedDate?\"none\":\"\"},children:[\"Published: \",i.publishedDate]}),Object(n.jsxs)(\"p\",{className:\"single-book-price\",children:[\"$\",i.price]}),v,Object(n.jsx)(\"button\",{className:\"single-book-add-to-basket\",onClick:function(){var e;e=i._id,j.a.get(\"http://localhost:8000/api/basket/add/\".concat(e),{withCredentials:!0}).then((function(){u.a.info(\"Book added to basket!\",{position:u.a.POSITION.BOTTOM_RIGHT,pauseOnHover:!1,autoClose:2e3})}))},style:{display:i.available?\"\":\"none\"},children:\"Add to basket\"}),Object(n.jsxs)(\"div\",{className:\"single-book-description\",children:[Object(n.jsx)(\"h1\",{style:{display:\"\"===i.description?\"none\":\"\"},children:\"Description\"}),i.description]})]})]})}));var P=Object(r.g)((function(e){var t=Object(c.useState)(\"\"),a=Object(l.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)(!0),r=Object(l.a)(s,2),h=r[0],j=r[1];return Object(c.useEffect)((function(){var t=!0;return f.storage().ref().child(\"\".concat(e.book.item.image)).getDownloadURL().then((function(e){t&&(o(e),j(!1))})).catch((function(){return e.history.push(\"/error\")})),function(){t=!1}}),[e.book.item.image,e.history]),h?Object(n.jsx)(\"div\",{children:Object(n.jsx)(b.BeatLoader,{loading:!0})}):Object(n.jsxs)(\"div\",{className:\"book-in-basket\",children:[Object(n.jsx)(\"button\",{onClick:function(){e.history.push(\"/book/\"+e.book.item.title)},children:Object(n.jsx)(\"img\",{src:i,alt:\"\"})}),Object(n.jsxs)(\"div\",{className:\"book-in-basket-info\",children:[Object(n.jsx)(\"h2\",{children:e.book.item.title}),Object(n.jsxs)(\"p\",{children:[\"$\",e.book.item.price,\" x \",e.book.quantity]}),Object(n.jsx)(\"button\",{onClick:function(){return e.removeItem(e.book.item._id)},children:Object(n.jsx)(C,{width:\"30\",height:\"30\"})})]})]},e.book.item._id)}));a(101);var I=function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)(0),r=Object(l.a)(s,2),h=r[0],d=r[1],O=Object(c.useState)(null),m=Object(l.a)(O,2),p=m[0],f=m[1],x=Object(c.useState)(!0),g=Object(l.a)(x,2),v=g[0],k=g[1];u.a.configure(),Object(c.useEffect)((function(){var t=!0;return j.a.get(\"http://localhost:8000/api/basket/getItems\",{withCredentials:!0}).then((function(e){if(t){if(\"emptyBasket\"===e.data)f(!0);else{f(!1);var a=e.data;o(a.array),d(a.totalPrice)}k(!1)}})).catch((function(){return e.history.push(\"/error\")})),function(){t=!1}}),[e.history]);var N=function(e){j.a.get(\"http://localhost:8000/api/basket/remove/\".concat(e),{withCredentials:!0}).then((function(){window.location.reload()}))};if(v)return Object(n.jsx)(\"div\",{className:\"loading-container\",children:Object(n.jsx)(b.BeatLoader,{loading:!0})});if(p)return Object(n.jsx)(\"div\",{className:\"basket-empty-container\",children:Object(n.jsx)(\"h1\",{children:\"Your basket is empty. Go do some shopping.\"})});var w=i.map((function(e){return Object(n.jsx)(P,{book:e,removeItem:N},e.item.title)}));return Object(n.jsxs)(\"div\",{className:\"basket-container\",children:[Object(n.jsx)(\"div\",{className:\"basket-items-container\",children:w}),Object(n.jsxs)(\"div\",{className:\"basket-info\",children:[Object(n.jsxs)(\"h2\",{children:[\"Total: $\",h]}),Object(n.jsx)(\"button\",{onClick:function(){j.a.get(\"http://localhost:8000/api/basket/clear\",{withCredentials:!0}).then((function(){u.a.info(\"Basket cleared!\",{position:u.a.POSITION.BOTTOM_RIGHT,pauseOnHover:!1,autoClose:2e3}),f(!0)}))},children:\"Clear basket\"})]})]})};a(102);var R=Object(r.g)((function(e){var t=Object(c.useState)(!1),a=Object(l.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)(!1),r=Object(l.a)(s,2),h=r[0],b=r[1],u=Object(c.useState)(!0),d=Object(l.a)(u,2),O=d[0],m=d[1];return Object(c.useEffect)((function(){var t=!0;return j.a.get(\"http://localhost:8000/api/checkAuthentication\",{withCredentials:!0}).then((function(e){t&&(e.data?(o(e.data),j.a.get(\"http://localhost:8000/api/checkAdminAuthentication\",{withCredentials:!0}).then((function(e){b(e.data),m(!1)}))):(b(!1),m(!1)))})).catch((function(){return e.history.push(\"/error\")})),function(){t=!1}}),[e.history]),O?Object(n.jsx)(\"div\",{className:\"header\",children:Object(n.jsx)(\"div\",{className:\"logo\",onClick:function(){return e.history.push(\"/\")},children:Object(n.jsx)(\"p\",{children:\"Alexandria\"})})}):i?Object(n.jsxs)(\"div\",{className:\"header\",children:[Object(n.jsx)(\"div\",{className:\"logo\",onClick:function(){return e.history.push(\"/\")},children:Object(n.jsx)(\"p\",{children:\"Alexandria\"})}),Object(n.jsxs)(\"div\",{className:\"log\",children:[Object(n.jsx)(\"button\",{className:\"basket-button\",title:\"Basket\",onClick:function(){return e.history.push(\"/basket\")},children:Object(n.jsx)(L,{width:\"20\",height:\"20\"})}),Object(n.jsx)(\"button\",{className:\"log-out-button\",title:\"Log Out\",onClick:function(){j.a.get(\"http://localhost:8000/api/logout\",{withCredentials:!0}).then((function(t){e.history.push(t.data),o(!1)})).catch((function(){e.history.push(\"/error\")}))},children:Object(n.jsx)(A,{width:\"20\",height:\"20\"})}),Object(n.jsx)(\"button\",{style:{display:h?\"\":\"none\"},onClick:function(){e.history.push(\"/admin\"),window.location.reload()},children:\"Admin panel\"})]})]}):Object(n.jsxs)(\"div\",{className:\"header\",children:[Object(n.jsx)(\"div\",{className:\"logo\",onClick:function(){return e.history.push(\"/\")},children:Object(n.jsx)(\"p\",{children:\"Alexandria\"})}),Object(n.jsxs)(\"div\",{className:\"log\",children:[Object(n.jsx)(\"button\",{className:\"basket-button\",title:\"Basket\",onClick:function(){return e.history.push(\"/basket\")},children:Object(n.jsx)(L,{width:\"20\",height:\"20\"})}),Object(n.jsx)(\"button\",{onClick:function(){return e.history.push(\"/login\")},children:\"Login\"})]})]})}));var D=function(e){return Object(n.jsxs)(\"div\",{children:[Object(n.jsx)(\"h1\",{children:\"500\"}),Object(n.jsx)(\"h2\",{children:\"Something went wrong :(\"})]})};a(103);var H=function(e){return Object(n.jsxs)(\"div\",{children:[Object(n.jsx)(\"h1\",{className:\"admin-panel-title\",children:\"Admin Panel\"}),Object(n.jsxs)(\"div\",{className:\"admin-buttons-container\",children:[Object(n.jsx)(\"button\",{className:\"admin-button\",onClick:function(){return e.history.push(\"/admin/add\")},children:\"Add\"}),Object(n.jsx)(\"br\",{}),Object(n.jsx)(\"button\",{className:\"admin-button\",onClick:function(){return e.history.push(\"/admin/books\")},children:\"Modify\"})]})]})},z=a(28),M=a.n(z),F=a(45);var V=function(e){var t=Object(c.useState)(null),a=Object(l.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)(\"\"),r=Object(l.a)(s,2),h=r[0],b=r[1],d=Object(c.useState)(\"\"),O=Object(l.a)(d,2),m=O[0],p=O[1],x=Object(c.useState)(\"\"),g=Object(l.a)(x,2),v=g[0],k=g[1],N=Object(c.useState)(\"\"),w=Object(l.a)(N,2),y=w[0],C=w[1],S=Object(c.useState)(\"\"),A=Object(l.a)(S,2),L=A[0],T=A[1],B=Object(c.useState)(\"\"),E=Object(l.a)(B,2),_=E[0],P=E[1],I=Object(c.useState)(!0),R=Object(l.a)(I,2),D=R[0],H=R[1],z=Object(c.useState)(!1),V=Object(l.a)(z,2),G=V[0],U=V[1],K=Object(c.useState)([]),W=Object(l.a)(K,2),Q=W[0],$=W[1],J=Object(c.useState)([]),Y=Object(l.a)(J,2),q=Y[0],X=Y[1];u.a.configure(),Object(c.useEffect)((function(){var t=!0;return j.a.get(\"http://localhost:8000/api/genres/getAll\",{withCredentials:!0}).then((function(e){if(t){var a=e.data;X(a)}})).catch((function(){e.history.push(\"/error\")})),function(){t=!1}}),[e.history]);var Z=function(){var e=Object(F.a)(M.a.mark((function e(){var t,a,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.storage().ref();case 2:return t=e.sent,a=h+\" - \"+m,e.next=6,t.child(a);case 6:return n=e.sent,e.next=9,n.put(i);case 9:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=Q.map((function(e){return Object(n.jsx)(\"div\",{className:\"alert\",role:\"alert\",children:e.msg},e.msg)})),te=q.map((function(e){return Object(n.jsx)(\"option\",{value:e.name,children:e.name},e.name)}));return Object(n.jsxs)(\"div\",{className:\"form-container\",children:[Object(n.jsxs)(\"form\",{className:\"form-admin\",children:[Object(n.jsx)(\"h1\",{className:\"admin-add-title\",children:\"Add a new book\"}),Object(n.jsx)(\"input\",{type:\"text\",name:\"title\",placeholder:\"*Title\",maxLength:\"255\",value:h,onChange:function(e){return b(e.target.value)}}),Object(n.jsx)(\"input\",{type:\"text\",name:\"author\",placeholder:\"*Author\",value:m,maxLength:\"255\",onChange:function(e){return p(e.target.value)}}),Object(n.jsxs)(\"select\",{className:\"genre-dropdown\",value:v,onChange:function(e){return k(e.target.value)},children:[Object(n.jsx)(\"option\",{value:\"\",disabled:!0,defaultValue:!0,children:\"Select genre\"}),te]}),Object(n.jsx)(\"textarea\",{type:\"text\",name:\"description\",placeholder:\"Description\",maxLength:\"255\",value:_,onChange:function(e){return P(e.target.value)}}),Object(n.jsx)(\"input\",{type:\"text\",name:\"price\",min:\"1\",max:\"999\",placeholder:\"*Price in dollars\",maxLength:\"5\",value:y,onChange:function(e){return C(e.target.value)},onKeyPress:function(e){return function(e){var t=String.fromCharCode(e.which);/[0-9]/.test(t)||e.preventDefault()}(e)}}),Object(n.jsx)(\"input\",{type:\"text\",name:\"publishedDate\",placeholder:\"Published Date\",maxLength:\"255\",value:L,onChange:function(e){return T(e.target.value)}}),Object(n.jsxs)(\"div\",{className:\"drain\",children:[Object(n.jsx)(\"input\",{type:\"checkbox\",id:\"availability\",name:\"availability\",checked:D,onChange:function(){return H(!D)}}),Object(n.jsx)(\"label\",{htmlFor:\"availability\",children:\"Is available\"}),Object(n.jsx)(\"br\",{}),Object(n.jsx)(\"input\",{type:\"checkbox\",id:\"featured\",name:\"featured\",checked:G,onChange:function(){return U(!G)}}),Object(n.jsx)(\"label\",{htmlFor:\"featured\",children:\"Featured on home page\"}),Object(n.jsx)(\"br\",{}),Object(n.jsx)(\"label\",{htmlFor:\"file\",children:\"Select book cover image:\"}),Object(n.jsx)(\"input\",{id:\"file\",type:\"file\",onChange:function(e){return function(e){var t=e.target.files[0];o(t)}(e)}}),Object(n.jsx)(\"br\",{})]}),Object(n.jsx)(\"button\",{className:\"submit-button\",onClick:function(t){return function(t){t.preventDefault();var a=h+\" - \"+m;j.a.post(\"http://localhost:8000/api/admin/add\",{title:h,author:m,genre:v,price:y,publishedDate:L,description:_,availability:D,featured:G,image:a},{withCredentials:!0}).then((function(e){var t=e.data.errors;t.length>0&&\"Succesfully created\"===t[0].msg?($([]),Z(),u.a.success(\"Book added!\",{position:u.a.POSITION.BOTTOM_RIGHT,pauseOnHover:!1,autoClose:2e3}),setTimeout((function(){return window.location.reload()}),2e3)):$(t)})).catch((function(){e.history.push(\"/error\")}))}(t)},style:{display:i?\"\":\"none\"},children:\"Add\"}),ee]}),Object(n.jsx)(\"button\",{className:\"admin-back-button\",onClick:function(){return e.history.push(\"/admin\")},children:\"Back to admin panel\"})]})};var G=Object(r.g)((function(e){var t=Object(c.useState)(\"\"),a=Object(l.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)(!0),r=Object(l.a)(s,2),h=r[0],j=r[1];return Object(c.useEffect)((function(){var t=!0;t&&f.storage().ref().child(\"\".concat(e.book.image)).getDownloadURL().then((function(e){o(e),j(!1)})).catch((function(){return e.history.push(\"/error\")}));return function(){t=!1}}),[e.book.image,e.history]),h?Object(n.jsx)(\"div\",{className:\"loading-container\",children:Object(n.jsx)(b.BeatLoader,{loading:!0})}):Object(n.jsxs)(\"div\",{className:\"book-item\",children:[Object(n.jsx)(\"div\",{className:\"image-container\",children:Object(n.jsx)(\"button\",{onClick:function(){e.history.push(\"/admin/book/\"+e.book.title)},children:Object(n.jsx)(\"img\",{src:i,alt:\"\"})})}),Object(n.jsxs)(\"div\",{className:\"description-container\",children:[Object(n.jsx)(\"h2\",{className:\"book-title\",children:e.book.title}),Object(n.jsx)(\"h3\",{className:\"book-author\",children:e.book.author}),Object(n.jsx)(\"button\",{className:\"book-add-to-basket\",title:\"Remove\",onClick:function(){e.remove(e.book._id,e.book.image)},children:Object(n.jsx)(C,{width:\"30\",height:\"30\"})})]})]},e.book._id)})),U=a(42);var K=Object(r.g)((function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)(U.parse(e.location.search,{ignoreQueryPrefix:!0}).genre),r=Object(l.a)(s,1)[0],h=Object(c.useState)(U.parse(e.location.search,{ignoreQueryPrefix:!0}).orderby),u=Object(l.a)(h,1)[0],d=Object(c.useState)(U.parse(e.location.search,{ignoreQueryPrefix:!0}).descending),O=Object(l.a)(d,1)[0],m=Object(c.useState)(!0),p=Object(l.a)(m,2),x=p[0],g=p[1];Object(c.useEffect)((function(){var t=!0,a=\"http://localhost:8000/api/books/getAll?genre=\".concat(r||\"\",\"&orderby=\").concat(u||\"title\",\"&descending=\").concat(O||\"false\");return j.a.get(a,{withCredentials:!0}).then((function(e){t&&(o(e.data),g(!1))})).catch((function(){return e.history.push(\"/error\")})),function(){t=!1}}),[O,r,u,e.history]);var v=function(t,a,n){e.history.push({pathname:\"/admin/books\",search:\"?genre=\".concat(t||\"\",\"&orderby=\").concat(a||\"title\",\"&descending=\").concat(n||\"false\")}),window.location.reload()},k=function(t,a){j.a.post(\"http://localhost:8000/api/admin/remove\",{id:t},{withCredentials:!0}).then((function(){f.storage().ref().child(a).delete(),window.location.reload()})).catch((function(){return e.history.push(\"/error\")}))},N=i.map((function(e){return Object(n.jsx)(G,{book:e,remove:k},e.title)}));return x?Object(n.jsx)(\"div\",{className:\"loading-container\",children:Object(n.jsx)(b.BeatLoader,{loading:!0})}):Object(n.jsxs)(\"div\",{children:[Object(n.jsx)(\"button\",{onClick:function(){return e.history.push(\"/admin\")},children:\"Back to admin panel\"}),Object(n.jsx)(\"h1\",{className:\"genre-title\",children:r}),Object(n.jsx)(\"div\",{className:\"sort-options-container\",children:Object(n.jsxs)(\"form\",{className:\"order-by-form\",children:[Object(n.jsxs)(\"label\",{children:[\"Order by:\\xa0\",Object(n.jsxs)(\"select\",{value:u,onChange:function(e){return v(r,e.target.value,O)},children:[Object(n.jsx)(\"option\",{value:\"title\",children:\"Title\"}),Object(n.jsx)(\"option\",{value:\"author\",children:\"Author\"}),Object(n.jsx)(\"option\",{value:\"price\",children:\"Price\"})]})]}),Object(n.jsx)(\"button\",{type:\"button\",onClick:function(){return v(r,u,\"true\"===O?\"false\":\"true\")},children:\"true\"===O?Object(n.jsx)(w,{width:\"20\",height:\"20\"}):Object(n.jsx)(y,{width:\"20\",height:\"20\"})})]})}),Object(n.jsx)(\"div\",{className:\"book-container\",children:N})]})}));var W=Object(r.g)((function(e){var t=Object(c.useState)({}),a=Object(l.a)(t,2),i=a[0],o=a[1],s=e.match.params.title,r=Object(c.useState)(!0),h=Object(l.a)(r,2),u=h[0],d=h[1],O=Object(c.useState)(\"\"),m=Object(l.a)(O,2),p=m[0],x=m[1],g=Object(c.useState)(null),v=Object(l.a)(g,2),k=v[0],N=v[1],w=Object(c.useState)(null),y=Object(l.a)(w,2),C=y[0],S=y[1];return Object(c.useEffect)((function(){var t=!0;return j.a.get(\"http://localhost:8000/api/books/get/\".concat(s),{withCredentials:!0}).then((function(e){t&&(o(e.data),f.storage().ref().child(\"\".concat(e.data.image)).getDownloadURL().then((function(t){x(t),N(e.data.available),S(e.data.featured),d(!1)})))})).catch((function(){return e.history.push(\"/error\")})),function(){t=!1}}),[s,e.history]),u?Object(n.jsx)(\"div\",{className:\"loading-container\",children:Object(n.jsx)(b.BeatLoader,{loading:!0})}):Object(n.jsxs)(\"div\",{children:[Object(n.jsx)(\"button\",{onClick:function(){return e.history.push(\"/admin/books\")},children:\"Back to books\"}),Object(n.jsxs)(\"div\",{className:\"single-book-container\",children:[Object(n.jsx)(\"div\",{className:\"single-book-image\",children:Object(n.jsx)(\"img\",{src:p,alt:\"\"})}),Object(n.jsxs)(\"div\",{className:\"single-book-info\",children:[Object(n.jsx)(\"h1\",{className:\"single-book-title\",children:i.title}),Object(n.jsxs)(\"h2\",{className:\"single-book-author\",children:[\"by \",i.author]}),Object(n.jsxs)(\"p\",{className:\"single-book-genre\",children:[\"Genre: \",i.genre]}),Object(n.jsxs)(\"p\",{className:\"single-book-date\",style:{display:\"\"===i.publishedDate?\"none\":\"\"},children:[\"Published: \",i.publishedDate]}),Object(n.jsxs)(\"p\",{className:\"single-book-price\",children:[\"$\",i.price]}),Object(n.jsx)(\"button\",{onClick:function(){j.a.post(\"http://localhost:8000/api/admin/update\",{id:i._id,field:\"available\",value:!k},{withCredentials:!0}).catch((function(){return e.history.push(\"/error\")})),window.location.reload()},children:Object(n.jsxs)(\"div\",{className:\"availability-selector\",children:[Object(n.jsx)(\"div\",{className:k?\"selected-outline\":\"\",children:Object(n.jsx)(\"p\",{className:\"single-book-in-stock\",children:\"In stock\"})}),Object(n.jsx)(\"div\",{className:k?\"\":\"selected-outline\",children:Object(n.jsx)(\"p\",{className:\"single-book-out-of-stock\",children:\"Out of stock\"})})]})}),Object(n.jsx)(\"br\",{}),Object(n.jsxs)(\"button\",{onClick:function(){j.a.post(\"http://localhost:8000/api/admin/update\",{id:i._id,field:\"featured\",value:!C},{withCredentials:!0}).catch((function(){return e.history.push(\"/error\")})),window.location.reload()},children:[C?\"Remove from \":\"Feature on \",\"home page\"]}),Object(n.jsxs)(\"div\",{className:\"single-book-description\",children:[Object(n.jsx)(\"h1\",{style:{display:\"\"===i.description?\"none\":\"\"},children:\"Description\"}),i.description]})]})]})]})}));var Q=function(e){var t=Object(c.useState)(!1),a=Object(l.a)(t,2),i=a[0],o=a[1],h=Object(c.useState)(!0),u=Object(l.a)(h,2),d=u[0],O=u[1];return Object(c.useEffect)((function(){var t=!0;return j.a.get(\"http://localhost:8000/api/checkAuthentication\",{withCredentials:!0}).then((function(e){t&&(e.data?j.a.get(\"http://localhost:8000/api/checkAdminAuthentication\",{withCredentials:!0}).then((function(e){o(e.data),O(!1)})):(o(!1),O(!1)))})).catch((function(){return e.history.push(\"/error\")})),function(){t=!1}}),[e.history]),d?Object(n.jsx)(\"div\",{className:\"loading-container\",children:Object(n.jsx)(b.BeatLoader,{loading:!0})}):i?Object(n.jsx)(\"div\",{className:\"admin\",children:Object(n.jsx)(s.a,{children:Object(n.jsx)(\"div\",{className:\"admin-panel\",children:Object(n.jsxs)(r.d,{children:[Object(n.jsx)(r.b,{path:\"/admin\",component:H,exact:!0}),Object(n.jsx)(r.b,{path:\"/admin/add\",component:V}),Object(n.jsx)(r.b,{path:\"/admin/books\",component:K}),Object(n.jsx)(r.b,{path:\"/admin/book/:title\",component:W}),Object(n.jsx)(r.a,{to:\"/\"})]})})})}):Object(n.jsx)(r.a,{to:{pathname:\"/\",state:{from:e.location}}})};var $=function(){return Object(n.jsx)(\"div\",{className:\"container\",children:Object(n.jsxs)(s.a,{children:[Object(n.jsx)(R,{}),Object(n.jsx)(\"div\",{className:\"content\",children:Object(n.jsxs)(r.d,{children:[Object(n.jsx)(r.b,{path:\"/\",component:v,exact:!0}),Object(n.jsx)(r.b,{path:\"/signup\",component:d}),Object(n.jsx)(r.b,{path:\"/login\",component:k}),Object(n.jsx)(r.b,{path:\"/books/:genre?\",component:E}),Object(n.jsx)(r.b,{path:\"/basket\",component:I}),Object(n.jsx)(r.b,{path:\"/book/:title\",component:_}),Object(n.jsx)(r.b,{path:\"/admin\",component:Q}),Object(n.jsx)(r.b,{path:\"/error\",component:D}),Object(n.jsx)(r.a,{to:\"/\"})]})})]})})};a(105);o.a.render(Object(n.jsx)($,{}),document.getElementById(\"root\"))},38:function(e,t,a){},41:function(e,t,a){},98:function(e,t,a){}},[[106,1,2]]]);","name":"static/js/main.99a97f99.chunk.js","map":{"version":3,"sources":["static/js/main.99a97f99.chunk.js"],"names":["this","push","101","module","exports","__webpack_require__","102","103","105","106","__webpack_exports__","r","jsx_runtime","react","react_dom","react_dom_default","n","react_router_dom","react_router","slicedToArray","axios","axios_default","react_spinners","react_toastify_esm","signup","props","_useState","Object","_useState2","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","confirmPassword","setConfirmPassword","_useState7","_useState8","alerts","setAlerts","_useState9","_useState10","accountCreated","setAccountCreated","_useState11","_useState12","isLoggedIn","setIsLoggedIn","_useState13","_useState14","loading","setLoading","configure","a","get","withCredentials","then","result","data","catch","history","className","children","to","pathname","state","from","location","alertsList","map","elem","role","msg","type","name","onChange","e","target","value","onClick","event","preventDefault","post","res","errors","length","success","position","POSITION","BOTTOM_RIGHT","pauseOnHover","autoClose","style","display","navigation","genres","setGenres","mounted","genreList","genre","concat","window","reload","index_esm","firebaseConfig","apiKey","NODE_ENV","PUBLIC_URL","WDS_SOCKET_HOST","undefined","WDS_SOCKET_PATH","WDS_SOCKET_PORT","FAST_REFRESH","REACT_APP_FIREBASE_API_KEY","authDomain","projectId","storageBucket","messagingSenderId","appId","REACT_APP_FIREBASE_APP_ID","measurementId","app","initializeApp","featuredBook","imageUrl","setImageUrl","storage","ref","child","book","image","getDownloadURL","url","title","src","alt","footer","href","components_home","featuredBooks","setFeaturedBooks","featuredBookList","login","AddToBasketIcon","xmlns","width","height","fill","viewBox","fillRule","d","DescendingIcon","AscendingIcon","XIcon","CheckmarkIcon","LogOutIcon","BasketIcon","partial_book","author","addToBasket","_id","available","qs","components_books","books","setBooks","parse","search","ignoreQueryPrefix","orderby","sortBy","descending","APIRequest","id","info","redirect","orderBy","bookList","components_book","setBook","match","params","availability","publishedDate","price","description","basketItem","item","quantity","removeItem","components_basket","items","setItems","totalPrice","setTotalPrice","isBasketEmpty","setisBasketEmpty","requestedItems","array","itemList","partial_header","isAdmin","setIsAdmin","error","admin_home","regenerator","regenerator_default","asyncToGenerator","add","setImage","setTitle","setAuthor","setGenre","setPrice","setPublishedDate","setDescription","_useState15","_useState16","setAvailability","_useState17","_useState18","featured","setFeatured","_useState19","_useState20","_useState21","_useState22","requestedGenres","uploadImage","_ref","mark","_callee","storageRef","imageName","fileRef","wrap","_context","prev","next","sent","put","stop","apply","arguments","genreOptions","placeholder","maxLength","disabled","defaultValue","min","max","onKeyPress","ch","String","fromCharCode","which","test","isInputNumber","checked","htmlFor","img","files","handleChange","setTimeout","handleSubmit","admin_partial_book","remove","books_qs","admin_books","delete","admin_book","setAvailable","field","components_admin","path","component","exact","src_app","render","document","getElementById","38","41","98"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 101:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(18);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(3);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/react-spinners/index.js\nvar react_spinners = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/react-toastify/dist/react-toastify.esm.js + 4 modules\nvar react_toastify_esm = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./src/css/forms.css\nvar css_forms = __webpack_require__(38);\n\n// CONCATENATED MODULE: ./src/components/signup.jsx\nfunction SignUp(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),confirmPassword=_useState6[0],setConfirmPassword=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),alerts=_useState8[0],setAlerts=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),accountCreated=_useState10[0],setAccountCreated=_useState10[1];var _useState11=Object(react[\"useState\"])(null),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),isLoggedIn=_useState12[0],setIsLoggedIn=_useState12[1];var _useState13=Object(react[\"useState\"])(true),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),loading=_useState14[0],setLoading=_useState14[1];react_toastify_esm[\"a\" /* toast */].configure();Object(react[\"useEffect\"])(function(){axios_default.a.get('http://localhost:8000/api/checkAuthentication',{withCredentials:true}).then(function(result){setIsLoggedIn(result.data);setLoading(false);}).catch(function(){return props.history.push('/error');});},[props.history]);var onSubmit=function onSubmit(event){event.preventDefault();// Reset the alerts on every call to the API\nsetAlerts([]);axios_default.a.post('http://localhost:8000/api/signup',{email:email,password:password,confirmPassword:confirmPassword}).then(function(res){var errors=res.data.errors;if(errors.length>0&&errors[0].msg==='Succesfully created'){react_toastify_esm[\"a\" /* toast */].success(\"Account created successfully!\",{position:react_toastify_esm[\"a\" /* toast */].POSITION.BOTTOM_RIGHT,pauseOnHover:false,autoClose:2000});setEmail('');setPassword('');setConfirmPassword('');setAccountCreated(true);}else{setAlerts(errors);}}).catch(function(){props.history.push('/error');});};if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_spinners[\"BeatLoader\"],{loading:true})});}if(isLoggedIn){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:{pathname:'/',state:{from:props.location}}});}var alertsList=alerts.map(function(elem){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert\",role:\"alert\",children:elem.msg},elem.msg);});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"form-title\",children:\"Register as a new user\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input-title\",children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",name:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},value:email}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input-title\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",name:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input-title\",children:\"Confirm password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",name:\"confirmPassword\",onChange:function onChange(e){return setConfirmPassword(e.target.value);},value:confirmPassword}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"submit-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"submit-button\",onClick:onSubmit,children:\"SIGN UP\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"alert-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert\",role:\"alert\",style:{display:accountCreated?'':'none'},children:\"Please, check your email for confirmation.\"}),alertsList]})]});}/* harmony default export */ var signup = (SignUp);\n// EXTERNAL MODULE: ./src/css/home.css\nvar home = __webpack_require__(98);\n\n// CONCATENATED MODULE: ./src/components/partial/navigation.jsx\nfunction Navigation(props){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),genres=_useState2[0],setGenres=_useState2[1];Object(react[\"useEffect\"])(function(){var mounted=true;axios_default.a.get('http://localhost:8000/api/genres/getAll',{withCredentials:true}).then(function(res){if(mounted){setGenres(res.data);}}).catch(function(){return props.history.push('/error');});return function(){mounted=false;};},[props.history]);var genreList=genres.map(function(genre){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:function onClick(){props.history.push(\"/books?genre=\".concat(genre.name));window.location.reload();},children:genre.name},genre.name);});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"nav-bar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:function onClick(){props.history.push('/books');window.location.reload();},children:\"All\"},\"all\"),genreList]});}/* harmony default export */ var navigation = (Object(react_router[\"g\" /* withRouter */])(Navigation));\n// EXTERNAL MODULE: ./node_modules/@firebase/app/dist/index.esm.js + 1 modules\nvar index_esm = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/firebase/storage/dist/index.esm.js + 1 modules\nvar dist_index_esm = __webpack_require__(107);\n\n// CONCATENATED MODULE: ./src/firebase/index.js\nvar firebaseConfig={apiKey:Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).REACT_APP_FIREBASE_API_KEY,authDomain:\"alexandria-53ea0.firebaseapp.com\",projectId:\"alexandria-53ea0\",storageBucket:\"alexandria-53ea0.appspot.com\",messagingSenderId:\"399793836289\",appId:Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).REACT_APP_FIREBASE_APP_ID,measurementId:\"G-NRTW5NVMNN\"};// Initialize Firebase\nvar app=index_esm[\"b\" /* firebase */].initializeApp(firebaseConfig);\n// CONCATENATED MODULE: ./src/components/partial/featuredBook.jsx\nfunction FeaturedBook(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),imageUrl=_useState2[0],setImageUrl=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];Object(react[\"useEffect\"])(function(){var mounted=true;if(mounted){var storageRef=app.storage().ref();storageRef.child(\"\".concat(props.book.image)).getDownloadURL().then(function(url){setImageUrl(url);setLoading(false);}).catch(function(){return props.history.push('/error');});}return function(){mounted=false;};},[props.book.image,props.history]);if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_spinners[\"BeatLoader\"],{loading:true})});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"featured-book-item\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"featured-image-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){props.history.push(\"/book/\"+props.book.title);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:imageUrl,alt:\"\"})})})});}/* harmony default export */ var featuredBook = (Object(react_router[\"g\" /* withRouter */])(FeaturedBook));\n// CONCATENATED MODULE: ./src/components/partial/footer.jsx\nfunction Footer(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"footer\",children:[\"Developed by \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:'https://github.com/hshirov',children:\"Hristo Shirov\"})]});}/* harmony default export */ var footer = (Footer);\n// CONCATENATED MODULE: ./src/components/home.jsx\nfunction Home(props){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),featuredBooks=_useState2[0],setFeaturedBooks=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];Object(react[\"useEffect\"])(function(){var mounted=true;axios_default.a.get('http://localhost:8000/api/books/getAllFeatured',{withCredentials:true}).then(function(res){if(mounted){setFeaturedBooks(res.data);setLoading(false);}}).catch(function(){return props.history.push('/error');});return function(){mounted=false;};},[props.history]);var featuredBookList=featuredBooks.map(function(book){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(featuredBook,{book:book},book.title);});if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_spinners[\"BeatLoader\"],{loading:true})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(navigation,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"featured-title\",children:\"Featured\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"featured-container\",children:featuredBookList}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(footer,{})]});}/* harmony default export */ var components_home = (Object(react_router[\"g\" /* withRouter */])(Home));\n// CONCATENATED MODULE: ./src/components/login.jsx\nfunction LogIn(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),alerts=_useState6[0],setAlerts=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),isLoggedIn=_useState8[0],setIsLoggedIn=_useState8[1];var _useState9=Object(react[\"useState\"])(true),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];Object(react[\"useEffect\"])(function(){axios_default.a.get('http://localhost:8000/api/checkAuthentication',{withCredentials:true}).then(function(result){setIsLoggedIn(result.data);setLoading(false);}).catch(function(){return props.history.push('/error');});},[props.history]);var onSubmit=function onSubmit(event){event.preventDefault();// Reset the alerts on every call to the API\nsetAlerts([]);axios_default.a.post('http://localhost:8000/api/login',{email:email,password:password},{withCredentials:true}).then(function(res){var errors=res.data.errors;if(errors.length>0&&errors[0].msg==='Successfully Authenticated'){// If login was successful, redirect to home\nprops.history.push('/');// this updates the isLoggedIn state in the header\nwindow.location.reload();}else{setAlerts(errors);}}).catch(function(){props.history.push('/error');});};if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_spinners[\"BeatLoader\"],{loading:true})});}if(isLoggedIn){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:{pathname:'/',state:{from:props.location}}});}var alertsList=alerts.map(function(elem){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert\",role:\"alert\",children:elem.msg},elem.msg);});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"form-title\",children:\"Login as existing user\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input-title\",children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",name:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},value:email}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input-title\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",name:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"submit-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"submit-button\",onClick:onSubmit,children:\"LOGIN\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"or \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return props.history.push('/signup');},children:\"Sign up\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert-container\",children:alertsList})]});}/* harmony default export */ var login = (LogIn);\n// EXTERNAL MODULE: ./src/css/books.css\nvar css_books = __webpack_require__(41);\n\n// EXTERNAL MODULE: ./node_modules/react-toastify/dist/ReactToastify.css\nvar ReactToastify = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./src/components/partial/icons.jsx\nfunction AddToBasketIcon(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:props.width,height:props.height,fill:\"currentColor\",className:\"bi bi-bag-plus\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{fillRule:\"evenodd\",d:\"M8 1a2.5 2.5 0 0 0-2.5 2.5V4h5v-.5A2.5 2.5 0 0 0 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5H2z\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{fillRule:\"evenodd\",d:\"M8 7.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0v-1.5H6a.5.5 0 0 1 0-1h1.5V8a.5.5 0 0 1 .5-.5z\"})]});}function DescendingIcon(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:props.width,height:props.height,fill:\"currentColor\",className:\"bi bi-sort-down\",viewBox:\"0 -2 16 16\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293V2.5zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z\"})});}function AscendingIcon(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:props.width,height:props.height,fill:\"currentColor\",className:\"bi bi-sort-down-alt\",viewBox:\"0 -2 16 16\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M3.5 3.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 12.293V3.5zm4 .5a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm0 3a.5.5 0 0 1 0-1h3a.5.5 0 0 1 0 1h-3zm0 3a.5.5 0 0 1 0-1h5a.5.5 0 0 1 0 1h-5zM7 12.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7a.5.5 0 0 0-.5.5z\"})});}function XIcon(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:props.width,height:props.height,fill:\"#d90000\",className:\"bi bi-x\",viewBox:\"3 0 16 16\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"})});}function CheckmarkIcon(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:props.width,height:props.height,fill:\"currentColor\",className:\"bi bi-check\",viewBox:\"0 -3 16 16\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{fillRule:\"evenodd\",d:\"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z\"})});}function LogOutIcon(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:props.width,height:props.height,fill:\"currentColor\",className:\"bi bi-box-arrow-right\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{fillRule:\"evenodd\",d:\"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{fillRule:\"evenodd\",d:\"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z\"})]});}function BasketIcon(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:props.width,height:props.height,fill:\"currentColor\",className:\"bi bi-basket3\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{fillRule:\"evenodd\",d:\"M5.757 1.071a.5.5 0 0 1 .172.686L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15.5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H.5a.5.5 0 0 1-.5-.5v-1A.5.5 0 0 1 .5 6h1.717L5.07 1.243a.5.5 0 0 1 .686-.172zM3.394 15l-1.48-6h-.97l1.525 6.426a.75.75 0 0 0 .729.574h9.606a.75.75 0 0 0 .73-.574L15.056 9h-.972l-1.479 6h-9.21z\"})});}\n// CONCATENATED MODULE: ./src/components/partial/book.jsx\nfunction Book(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),imageUrl=_useState2[0],setImageUrl=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];Object(react[\"useEffect\"])(function(){var mounted=true;if(mounted){var storageRef=app.storage().ref();storageRef.child(\"\".concat(props.book.image)).getDownloadURL().then(function(url){setImageUrl(url);setLoading(false);}).catch(function(){return props.history.push('/error');});}return function(){mounted=false;};},[props.book.image,props.history]);if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_spinners[\"BeatLoader\"],{loading:true})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"book-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"image-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){props.history.push(\"/book/\"+props.book.title);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:imageUrl,alt:\"\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"description-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"book-title\",children:props.book.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"book-author\",children:props.book.author}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"book-add-to-basket\",title:\"Add to basket\",onClick:function onClick(){props.addToBasket(props.book._id);},style:{display:props.book.available?'':'none'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddToBasketIcon,{width:\"20\",height:\"20\"})})]})]},props.book._id);}/* harmony default export */ var partial_book = (Object(react_router[\"g\" /* withRouter */])(Book));\n// CONCATENATED MODULE: ./src/components/books.jsx\nvar qs=__webpack_require__(42);function Books(props){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),books=_useState2[0],setBooks=_useState2[1];var _useState3=Object(react[\"useState\"])(qs.parse(props.location.search,{ignoreQueryPrefix:true}).genre),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,1),genre=_useState4[0];var _useState5=Object(react[\"useState\"])(qs.parse(props.location.search,{ignoreQueryPrefix:true}).orderby),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,1),sortBy=_useState6[0];var _useState7=Object(react[\"useState\"])(qs.parse(props.location.search,{ignoreQueryPrefix:true}).descending),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,1),descending=_useState8[0];var _useState9=Object(react[\"useState\"])(true),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];react_toastify_esm[\"a\" /* toast */].configure();Object(react[\"useEffect\"])(function(){var mounted=true;var APIRequest=\"http://localhost:8000/api/books/getAll?genre=\".concat(genre?genre:'',\"&orderby=\").concat(sortBy?sortBy:'title',\"&descending=\").concat(descending?descending:'false');axios_default.a.get(APIRequest,{withCredentials:true}).then(function(res){if(mounted){setBooks(res.data);setLoading(false);}}).catch(function(){return props.history.push('/error');});return function(){mounted=false;};},[genre,descending,sortBy,props.history]);var addToBasket=function addToBasket(id){axios_default.a.get(\"http://localhost:8000/api/basket/add/\".concat(id),{withCredentials:true}).then(function(){react_toastify_esm[\"a\" /* toast */].info(\"Book added to basket!\",{position:react_toastify_esm[\"a\" /* toast */].POSITION.BOTTOM_RIGHT,pauseOnHover:false,autoClose:2000});});};// Saves the sorting options in the URL\nvar redirect=function redirect(genre,orderBy,descending){props.history.push({pathname:'/books',search:\"?genre=\".concat(genre?genre:'',\"&orderby=\").concat(orderBy?orderBy:'title',\"&descending=\").concat(descending?descending:'false')});window.location.reload();};var bookList=books.map(function(book){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(partial_book,{book:book,addToBasket:addToBasket},book.title);});if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_spinners[\"BeatLoader\"],{loading:true})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(navigation,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"genre-title\",children:genre}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sort-options-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"order-by-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Order by:\\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:sortBy,onChange:function onChange(e){return redirect(genre,e.target.value,descending);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"title\",children:\"Title\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"author\",children:\"Author\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"price\",children:\"Price\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:function onClick(){return redirect(genre,sortBy,descending==='true'?'false':'true');},children:descending==='true'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DescendingIcon,{width:\"20\",height:\"20\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AscendingIcon,{width:\"20\",height:\"20\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"book-container\",children:bookList})]});}/* harmony default export */ var components_books = (Object(react_router[\"g\" /* withRouter */])(Books));\n// CONCATENATED MODULE: ./src/components/book.jsx\nfunction book_Book(props){var _useState=Object(react[\"useState\"])({}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),book=_useState2[0],setBook=_useState2[1];var title=props.match.params.title;var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),imageUrl=_useState6[0],setImageUrl=_useState6[1];react_toastify_esm[\"a\" /* toast */].configure();Object(react[\"useEffect\"])(function(){var mounted=true;axios_default.a.get(\"http://localhost:8000/api/books/get/\".concat(title),{withCredentials:true}).then(function(res){if(mounted){setBook(res.data);var storageRef=app.storage().ref();storageRef.child(\"\".concat(res.data.image)).getDownloadURL().then(function(url){setImageUrl(url);setLoading(false);});}}).catch(function(){return props.history.push('/error');});return function(){mounted=false;};},[title,props.history]);var addToBasket=function addToBasket(id){axios_default.a.get(\"http://localhost:8000/api/basket/add/\".concat(id),{withCredentials:true}).then(function(){react_toastify_esm[\"a\" /* toast */].info(\"Book added to basket!\",{position:react_toastify_esm[\"a\" /* toast */].POSITION.BOTTOM_RIGHT,pauseOnHover:false,autoClose:2000});});};var availability=book.available?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"single-book-in-stock\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CheckmarkIcon,{width:\"20\",height:\"20\"}),\"In stock\"]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"single-book-out-of-stock\",children:\"Out of stock\"});if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_spinners[\"BeatLoader\"],{loading:true})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"single-book-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"single-book-image\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:imageUrl,alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"single-book-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"single-book-title\",children:book.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{className:\"single-book-author\",children:[\"by \",book.author]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"single-book-genre\",children:[\"Genre: \",book.genre]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"single-book-date\",style:{display:book.publishedDate===''?'none':''},children:[\"Published: \",book.publishedDate]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"single-book-price\",children:[\"$\",book.price]}),availability,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"single-book-add-to-basket\",onClick:function onClick(){addToBasket(book._id);},style:{display:book.available?'':'none'},children:\"Add to basket\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"single-book-description\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{style:{display:book.description===''?'none':''},children:\"Description\"}),book.description]})]})]});}/* harmony default export */ var components_book = (Object(react_router[\"g\" /* withRouter */])(book_Book));\n// CONCATENATED MODULE: ./src/components/partial/basketItem.jsx\nfunction BasketItem(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),imageUrl=_useState2[0],setImageUrl=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];Object(react[\"useEffect\"])(function(){var mounted=true;var storageRef=app.storage().ref();storageRef.child(\"\".concat(props.book.item.image)).getDownloadURL().then(function(url){if(mounted){setImageUrl(url);setLoading(false);}}).catch(function(){return props.history.push('/error');});return function(){mounted=false;};},[props.book.item.image,props.history]);if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_spinners[\"BeatLoader\"],{loading:true})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"book-in-basket\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){props.history.push(\"/book/\"+props.book.item.title);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:imageUrl,alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"book-in-basket-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:props.book.item.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"$\",props.book.item.price,\" x \",props.book.quantity]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return props.removeItem(props.book.item._id);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(XIcon,{width:\"30\",height:\"30\"})})]})]},props.book.item._id);}/* harmony default export */ var basketItem = (Object(react_router[\"g\" /* withRouter */])(BasketItem));\n// EXTERNAL MODULE: ./src/css/basket.css\nvar basket = __webpack_require__(101);\n\n// CONCATENATED MODULE: ./src/components/basket.jsx\nfunction Basket(props){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),items=_useState2[0],setItems=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),totalPrice=_useState4[0],setTotalPrice=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isBasketEmpty=_useState6[0],setisBasketEmpty=_useState6[1];var _useState7=Object(react[\"useState\"])(true),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];react_toastify_esm[\"a\" /* toast */].configure();Object(react[\"useEffect\"])(function(){var mounted=true;axios_default.a.get('http://localhost:8000/api/basket/getItems',{withCredentials:true}).then(function(res){if(mounted){if(res.data==='emptyBasket'){setisBasketEmpty(true);}else{setisBasketEmpty(false);var requestedItems=res.data;setItems(requestedItems.array);setTotalPrice(requestedItems.totalPrice);}setLoading(false);}}).catch(function(){return props.history.push('/error');});return function(){mounted=false;};},[props.history]);var clearBasket=function clearBasket(){axios_default.a.get('http://localhost:8000/api/basket/clear',{withCredentials:true}).then(function(){react_toastify_esm[\"a\" /* toast */].info(\"Basket cleared!\",{position:react_toastify_esm[\"a\" /* toast */].POSITION.BOTTOM_RIGHT,pauseOnHover:false,autoClose:2000});setisBasketEmpty(true);});};var removeItem=function removeItem(id){axios_default.a.get(\"http://localhost:8000/api/basket/remove/\".concat(id),{withCredentials:true}).then(function(){window.location.reload();});};if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_spinners[\"BeatLoader\"],{loading:true})});}if(isBasketEmpty){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"basket-empty-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Your basket is empty. Go do some shopping.\"})});}var itemList=items.map(function(book){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(basketItem,{book:book,removeItem:removeItem},book.item.title);});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"basket-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"basket-items-container\",children:itemList}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"basket-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Total: $\",totalPrice]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:clearBasket,children:\"Clear basket\"})]})]});}/* harmony default export */ var components_basket = (Basket);\n// EXTERNAL MODULE: ./src/css/header.css\nvar header = __webpack_require__(102);\n\n// CONCATENATED MODULE: ./src/components/partial/header.jsx\nfunction Header(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isLoggedIn=_useState2[0],setIsLoggedIn=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isAdmin=_useState4[0],setIsAdmin=_useState4[1];var _useState5=Object(react[\"useState\"])(true),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];Object(react[\"useEffect\"])(function(){var mounted=true;axios_default.a.get('http://localhost:8000/api/checkAuthentication',{withCredentials:true}).then(function(result){if(mounted){if(result.data){setIsLoggedIn(result.data);axios_default.a.get('http://localhost:8000/api/checkAdminAuthentication',{withCredentials:true}).then(function(data){setIsAdmin(data.data);setLoading(false);});}else{setIsAdmin(false);setLoading(false);}}}).catch(function(){return props.history.push('/error');});return function(){mounted=false;};},[props.history]);var logOut=function logOut(){axios_default.a.get('http://localhost:8000/api/logout',{withCredentials:true}).then(function(result){props.history.push(result.data);setIsLoggedIn(false);}).catch(function(){props.history.push('/error');});};if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"logo\",onClick:function onClick(){return props.history.push('/');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Alexandria\"})})});}if(isLoggedIn){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"logo\",onClick:function onClick(){return props.history.push('/');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Alexandria\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"log\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"basket-button\",title:\"Basket\",onClick:function onClick(){return props.history.push('/basket');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BasketIcon,{width:\"20\",height:\"20\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"log-out-button\",title:\"Log Out\",onClick:logOut,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LogOutIcon,{width:\"20\",height:\"20\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{style:{display:isAdmin?'':'none'},onClick:function onClick(){props.history.push('/admin');window.location.reload();},children:\"Admin panel\"})]})]});}// If not logged in\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"logo\",onClick:function onClick(){return props.history.push('/');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Alexandria\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"log\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"basket-button\",title:\"Basket\",onClick:function onClick(){return props.history.push('/basket');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BasketIcon,{width:\"20\",height:\"20\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return props.history.push('/login');},children:\"Login\"})]})]});}/* harmony default export */ var partial_header = (Object(react_router[\"g\" /* withRouter */])(Header));\n// CONCATENATED MODULE: ./src/components/error/error.jsx\nfunction Error(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"500\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Something went wrong :(\"})]});}/* harmony default export */ var error = (Error);\n// EXTERNAL MODULE: ./src/css/admin.css\nvar admin = __webpack_require__(103);\n\n// CONCATENATED MODULE: ./src/components/admin/home.jsx\nfunction home_Home(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"admin-panel-title\",children:\"Admin Panel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"admin-buttons-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"admin-button\",onClick:function onClick(){return props.history.push('/admin/add');},children:\"Add\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"admin-button\",onClick:function onClick(){return props.history.push('/admin/books');},children:\"Modify\"})]})]});}/* harmony default export */ var admin_home = (home_Home);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(28);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(45);\n\n// CONCATENATED MODULE: ./src/components/admin/add.jsx\nfunction Add(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),image=_useState2[0],setImage=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),author=_useState6[0],setAuthor=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),genre=_useState8[0],setGenre=_useState8[1];var _useState9=Object(react[\"useState\"])(''),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),price=_useState10[0],setPrice=_useState10[1];var _useState11=Object(react[\"useState\"])(''),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),publishedDate=_useState12[0],setPublishedDate=_useState12[1];var _useState13=Object(react[\"useState\"])(''),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),description=_useState14[0],setDescription=_useState14[1];var _useState15=Object(react[\"useState\"])(true),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),availability=_useState16[0],setAvailability=_useState16[1];var _useState17=Object(react[\"useState\"])(false),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),featured=_useState18[0],setFeatured=_useState18[1];var _useState19=Object(react[\"useState\"])([]),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),alerts=_useState20[0],setAlerts=_useState20[1];var _useState21=Object(react[\"useState\"])([]),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),genres=_useState22[0],setGenres=_useState22[1];react_toastify_esm[\"a\" /* toast */].configure();Object(react[\"useEffect\"])(function(){var mounted=true;axios_default.a.get('http://localhost:8000/api/genres/getAll',{withCredentials:true}).then(function(res){if(mounted){var requestedGenres=res.data;setGenres(requestedGenres);}}).catch(function(){props.history.push('/error');});return function(){mounted=false;};},[props.history]);var handleChange=function handleChange(event){var img=event.target.files[0];setImage(img);};// Accessing firebase is done client-side\nvar uploadImage=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var storageRef,imageName,fileRef;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return app.storage().ref();case 2:storageRef=_context.sent;imageName=title+' - '+author;_context.next=6;return storageRef.child(imageName);case 6:fileRef=_context.sent;_context.next=9;return fileRef.put(image);case 9:case\"end\":return _context.stop();}}},_callee);}));return function uploadImage(){return _ref.apply(this,arguments);};}();var handleSubmit=function handleSubmit(event){event.preventDefault();var imageName=title+' - '+author;axios_default.a.post('http://localhost:8000/api/admin/add',{title:title,author:author,genre:genre,price:price,publishedDate:publishedDate,description:description,availability:availability,featured:featured,image:imageName},{withCredentials:true}).then(function(res){var errors=res.data.errors;if(errors.length>0&&errors[0].msg==='Succesfully created'){setAlerts([]);uploadImage();react_toastify_esm[\"a\" /* toast */].success(\"Book added!\",{position:react_toastify_esm[\"a\" /* toast */].POSITION.BOTTOM_RIGHT,pauseOnHover:false,autoClose:2000});setTimeout(function(){return window.location.reload();},2000);}else{setAlerts(errors);}}).catch(function(){props.history.push('/error');});};var isInputNumber=function isInputNumber(event){var ch=String.fromCharCode(event.which);if(!/[0-9]/.test(ch)){event.preventDefault();}};var alertsList=alerts.map(function(elem){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert\",role:\"alert\",children:elem.msg},elem.msg);});var genreOptions=genres.map(function(genre){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:genre.name,children:genre.name},genre.name);});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"form-admin\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"admin-add-title\",children:\"Add a new book\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"title\",placeholder:\"*Title\",maxLength:\"255\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"author\",placeholder:\"*Author\",value:author,maxLength:\"255\",onChange:function onChange(e){return setAuthor(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"genre-dropdown\",value:genre,onChange:function onChange(e){return setGenre(e.target.value);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",disabled:true,defaultValue:true,children:\"Select genre\"}),genreOptions]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{type:\"text\",name:\"description\",placeholder:\"Description\",maxLength:\"255\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"price\",min:\"1\",max:\"999\",placeholder:\"*Price in dollars\",maxLength:\"5\",value:price,onChange:function onChange(e){return setPrice(e.target.value);},onKeyPress:function onKeyPress(e){return isInputNumber(e);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"publishedDate\",placeholder:\"Published Date\",maxLength:\"255\",value:publishedDate,onChange:function onChange(e){return setPublishedDate(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"drain\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",id:\"availability\",name:\"availability\",checked:availability,onChange:function onChange(){return setAvailability(!availability);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"availability\",children:\"Is available\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",id:\"featured\",name:\"featured\",checked:featured,onChange:function onChange(){return setFeatured(!featured);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"featured\",children:\"Featured on home page\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"file\",children:\"Select book cover image:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"file\",type:\"file\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"submit-button\",onClick:function onClick(e){return handleSubmit(e);},style:{display:image?'':'none'},children:\"Add\"}),alertsList]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"admin-back-button\",onClick:function onClick(){return props.history.push('/admin');},children:\"Back to admin panel\"})]});}/* harmony default export */ var add = (Add);\n// CONCATENATED MODULE: ./src/components/admin/partial/book.jsx\nfunction partial_book_Book(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),imageUrl=_useState2[0],setImageUrl=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];Object(react[\"useEffect\"])(function(){var mounted=true;if(mounted){var storageRef=app.storage().ref();storageRef.child(\"\".concat(props.book.image)).getDownloadURL().then(function(url){setImageUrl(url);setLoading(false);}).catch(function(){return props.history.push('/error');});}return function(){mounted=false;};},[props.book.image,props.history]);if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_spinners[\"BeatLoader\"],{loading:true})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"book-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"image-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){props.history.push(\"/admin/book/\"+props.book.title);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:imageUrl,alt:\"\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"description-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"book-title\",children:props.book.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"book-author\",children:props.book.author}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"book-add-to-basket\",title:\"Remove\",onClick:function onClick(){props.remove(props.book._id,props.book.image);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(XIcon,{width:\"30\",height:\"30\"})})]})]},props.book._id);}/* harmony default export */ var admin_partial_book = (Object(react_router[\"g\" /* withRouter */])(partial_book_Book));\n// CONCATENATED MODULE: ./src/components/admin/books.jsx\nvar books_qs=__webpack_require__(42);function books_Books(props){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),books=_useState2[0],setBooks=_useState2[1];var _useState3=Object(react[\"useState\"])(books_qs.parse(props.location.search,{ignoreQueryPrefix:true}).genre),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,1),genre=_useState4[0];var _useState5=Object(react[\"useState\"])(books_qs.parse(props.location.search,{ignoreQueryPrefix:true}).orderby),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,1),sortBy=_useState6[0];var _useState7=Object(react[\"useState\"])(books_qs.parse(props.location.search,{ignoreQueryPrefix:true}).descending),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,1),descending=_useState8[0];var _useState9=Object(react[\"useState\"])(true),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];Object(react[\"useEffect\"])(function(){var mounted=true;var APIRequest=\"http://localhost:8000/api/books/getAll?genre=\".concat(genre?genre:'',\"&orderby=\").concat(sortBy?sortBy:'title',\"&descending=\").concat(descending?descending:'false');axios_default.a.get(APIRequest,{withCredentials:true}).then(function(res){if(mounted){setBooks(res.data);setLoading(false);}}).catch(function(){return props.history.push('/error');});return function(){mounted=false;};},[descending,genre,sortBy,props.history]);// Saves the sorting options in the URL\nvar redirect=function redirect(genre,orderBy,descending){props.history.push({pathname:'/admin/books',search:\"?genre=\".concat(genre?genre:'',\"&orderby=\").concat(orderBy?orderBy:'title',\"&descending=\").concat(descending?descending:'false')});window.location.reload();};var remove=function remove(id,image){axios_default.a.post('http://localhost:8000/api/admin/remove',{id:id},{withCredentials:true}).then(function(){var storageRef=app.storage().ref();storageRef.child(image).delete();window.location.reload();}).catch(function(){return props.history.push('/error');});};var bookList=books.map(function(book){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(admin_partial_book,{book:book,remove:remove},book.title);});if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_spinners[\"BeatLoader\"],{loading:true})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return props.history.push('/admin');},children:\"Back to admin panel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"genre-title\",children:genre}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sort-options-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"order-by-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Order by:\\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:sortBy,onChange:function onChange(e){return redirect(genre,e.target.value,descending);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"title\",children:\"Title\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"author\",children:\"Author\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"price\",children:\"Price\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:function onClick(){return redirect(genre,sortBy,descending==='true'?'false':'true');},children:descending==='true'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DescendingIcon,{width:\"20\",height:\"20\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AscendingIcon,{width:\"20\",height:\"20\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"book-container\",children:bookList})]});}/* harmony default export */ var admin_books = (Object(react_router[\"g\" /* withRouter */])(books_Books));\n// CONCATENATED MODULE: ./src/components/admin/book.jsx\nfunction admin_book_Book(props){var _useState=Object(react[\"useState\"])({}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),book=_useState2[0],setBook=_useState2[1];var title=props.match.params.title;var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),imageUrl=_useState6[0],setImageUrl=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),available=_useState8[0],setAvailable=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),featured=_useState10[0],setFeatured=_useState10[1];Object(react[\"useEffect\"])(function(){var mounted=true;axios_default.a.get(\"http://localhost:8000/api/books/get/\".concat(title),{withCredentials:true}).then(function(res){if(mounted){setBook(res.data);var storageRef=app.storage().ref();storageRef.child(\"\".concat(res.data.image)).getDownloadURL().then(function(url){setImageUrl(url);setAvailable(res.data.available);setFeatured(res.data.featured);setLoading(false);});}}).catch(function(){return props.history.push('/error');});return function(){mounted=false;};},[title,props.history]);var updateAvailability=function updateAvailability(){axios_default.a.post('http://localhost:8000/api/admin/update',{id:book._id,field:'available',value:!available},{withCredentials:true}).catch(function(){return props.history.push('/error');});window.location.reload();};var updateFeatured=function updateFeatured(){axios_default.a.post('http://localhost:8000/api/admin/update',{id:book._id,field:'featured',value:!featured},{withCredentials:true}).catch(function(){return props.history.push('/error');});window.location.reload();};if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_spinners[\"BeatLoader\"],{loading:true})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return props.history.push('/admin/books');},children:\"Back to books\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"single-book-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"single-book-image\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:imageUrl,alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"single-book-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"single-book-title\",children:book.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{className:\"single-book-author\",children:[\"by \",book.author]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"single-book-genre\",children:[\"Genre: \",book.genre]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"single-book-date\",style:{display:book.publishedDate===''?'none':''},children:[\"Published: \",book.publishedDate]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"single-book-price\",children:[\"$\",book.price]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:updateAvailability,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"availability-selector\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:available?\"selected-outline\":\"\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"single-book-in-stock\",children:\"In stock\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:!available?\"selected-outline\":\"\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"single-book-out-of-stock\",children:\"Out of stock\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{onClick:updateFeatured,children:[featured?'Remove from ':'Feature on ',\"home page\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"single-book-description\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{style:{display:book.description===''?'none':''},children:\"Description\"}),book.description]})]})]})]});}/* harmony default export */ var admin_book = (Object(react_router[\"g\" /* withRouter */])(admin_book_Book));\n// CONCATENATED MODULE: ./src/components/admin/index.jsx\nfunction AdminIndex(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isAdmin=_useState2[0],setIsAdmin=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];Object(react[\"useEffect\"])(function(){var mounted=true;axios_default.a.get('http://localhost:8000/api/checkAuthentication',{withCredentials:true}).then(function(result){if(mounted){if(result.data){axios_default.a.get('http://localhost:8000/api/checkAdminAuthentication',{withCredentials:true}).then(function(data){setIsAdmin(data.data);setLoading(false);});}else{setIsAdmin(false);setLoading(false);}}}).catch(function(){return props.history.push('/error');});return function(){mounted=false;};},[props.history]);if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_spinners[\"BeatLoader\"],{loading:true})});}if(!isAdmin){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:{pathname:'/',state:{from:props.location}}});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"admin\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"admin-panel\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/admin\",component:admin_home,exact:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/admin/add\",component:add}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/admin/books\",component:admin_books}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/admin/book/:title\",component:admin_book}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})]})})})});}/* harmony default export */ var components_admin = (AdminIndex);\n// CONCATENATED MODULE: ./src/app.jsx\n//Admin panel\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(partial_header,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"content\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/\",component:components_home,exact:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/signup\",component:signup}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/login\",component:login}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/books/:genre?\",component:components_books}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/basket\",component:components_basket}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/book/:title\",component:components_book}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/admin\",component:components_admin}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/error\",component:error}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})]})})]})});}/* harmony default export */ var src_app = (App);\n// EXTERNAL MODULE: ./src/css/index.css\nvar css = __webpack_require__(105);\n\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_app,{}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[106,1,2]]]);","inputSourceMap":{"version":3,"sources":["D:\\Projects\\Alexandria\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\Projects\\Alexandria\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\Projects\\Alexandria\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\Projects\\Alexandria\\client\\src\\css\\basket.css","D:\\Projects\\Alexandria\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\Projects\\Alexandria\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\Projects\\Alexandria\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\Projects\\Alexandria\\client\\src\\css\\header.css","D:\\Projects\\Alexandria\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\Projects\\Alexandria\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\Projects\\Alexandria\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\Projects\\Alexandria\\client\\src\\css\\admin.css","D:\\Projects\\Alexandria\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\Projects\\Alexandria\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\Projects\\Alexandria\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\Projects\\Alexandria\\client\\src\\css\\index.css","D:/Projects/Alexandria/client/src/components/signup.jsx","D:/Projects/Alexandria/client/src/components/partial/navigation.jsx","D:/Projects/Alexandria/client/src/firebase/index.js","D:/Projects/Alexandria/client/src/components/partial/featuredBook.jsx","D:/Projects/Alexandria/client/src/components/partial/footer.jsx","D:/Projects/Alexandria/client/src/components/home.jsx","D:/Projects/Alexandria/client/src/components/login.jsx","D:/Projects/Alexandria/client/src/components/partial/icons.jsx","D:/Projects/Alexandria/client/src/components/partial/book.jsx","D:/Projects/Alexandria/client/src/components/books.jsx","D:/Projects/Alexandria/client/src/components/book.jsx","D:/Projects/Alexandria/client/src/components/partial/basketItem.jsx","D:/Projects/Alexandria/client/src/components/basket.jsx","D:/Projects/Alexandria/client/src/components/partial/header.jsx","D:/Projects/Alexandria/client/src/components/error/error.jsx","D:/Projects/Alexandria/client/src/components/admin/home.jsx","D:/Projects/Alexandria/client/src/components/admin/add.jsx","D:/Projects/Alexandria/client/src/components/admin/partial/book.jsx","D:/Projects/Alexandria/client/src/components/admin/books.jsx","D:/Projects/Alexandria/client/src/components/admin/book.jsx","D:/Projects/Alexandria/client/src/components/admin/index.jsx","D:/Projects/Alexandria/client/src/app.jsx","D:/Projects/Alexandria/client/src/index.js","D:\\Projects\\Alexandria\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\Projects\\Alexandria\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\Projects\\Alexandria\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\Projects\\Alexandria\\client\\src\\css\\forms.css","D:\\Projects\\Alexandria\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\Projects\\Alexandria\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\Projects\\Alexandria\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\Projects\\Alexandria\\client\\src\\css\\books.css","D:\\Projects\\Alexandria\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\Projects\\Alexandria\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\Projects\\Alexandria\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\Projects\\Alexandria\\client\\src\\css\\home.css"],"names":["SignUp","props","useState","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","alerts","setAlerts","accountCreated","setAccountCreated","isLoggedIn","setIsLoggedIn","loading","setLoading","toast","configure","useEffect","Axios","get","withCredentials","then","result","data","catch","history","push","onSubmit","event","preventDefault","post","res","errors","length","msg","success","position","POSITION","BOTTOM_RIGHT","pauseOnHover","autoClose","pathname","state","from","location","alertsList","map","elem","e","target","value","display","Navigation","genres","setGenres","mounted","genreList","genre","name","window","reload","withRouter","firebaseConfig","apiKey","process","REACT_APP_FIREBASE_API_KEY","authDomain","projectId","storageBucket","messagingSenderId","appId","REACT_APP_FIREBASE_APP_ID","measurementId","app","firebase","initializeApp","FeaturedBook","imageUrl","setImageUrl","storageRef","storage","ref","child","book","image","getDownloadURL","url","title","Footer","Home","featuredBooks","setFeaturedBooks","featuredBookList","LogIn","AddToBasketIcon","width","height","DescendingIcon","AscendingIcon","XIcon","CheckmarkIcon","LogOutIcon","BasketIcon","Book","author","addToBasket","_id","available","qs","require","Books","books","setBooks","parse","search","ignoreQueryPrefix","orderby","sortBy","descending","APIRequest","id","info","redirect","orderBy","bookList","setBook","match","params","availability","publishedDate","price","description","BasketItem","item","quantity","removeItem","Basket","items","setItems","totalPrice","setTotalPrice","isBasketEmpty","setisBasketEmpty","requestedItems","array","clearBasket","itemList","Header","isAdmin","setIsAdmin","logOut","Error","Add","setImage","setTitle","setAuthor","setGenre","setPrice","setPublishedDate","setDescription","setAvailability","featured","setFeatured","requestedGenres","handleChange","img","files","uploadImage","imageName","fileRef","put","handleSubmit","setTimeout","isInputNumber","ch","String","fromCharCode","which","test","genreOptions","remove","delete","setAvailable","updateAvailability","field","updateFeatured","AdminIndex","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {BeatLoader} from 'react-spinners';\r\nimport {toast} from 'react-toastify';\r\nimport '../css/forms.css';\r\n\r\nfunction SignUp(props){\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [alerts, setAlerts] = useState([]);\r\n    const [accountCreated, setAccountCreated] = useState(false);\r\n    const [isLoggedIn, setIsLoggedIn] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    toast.configure();\r\n\r\n    useEffect(() => {\r\n        Axios.get('http://localhost:8000/api/checkAuthentication', { withCredentials: true })\r\n        .then(result => {\r\n            setIsLoggedIn(result.data);\r\n            setLoading(false);\r\n        })\r\n        .catch(() => props.history.push('/error'));\r\n    }, [props.history]);\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault()\r\n        // Reset the alerts on every call to the API\r\n        setAlerts([]);\r\n\r\n        Axios.post('http://localhost:8000/api/signup', {email: email, password: password, confirmPassword: confirmPassword})\r\n        .then((res) => { \r\n            const errors = res.data.errors;      \r\n            if(errors.length > 0 && errors[0].msg === 'Succesfully created'){\r\n                toast.success(\"Account created successfully!\", {position: toast.POSITION.BOTTOM_RIGHT, pauseOnHover: false, autoClose: 2000});\r\n                setEmail('');\r\n                setPassword('');\r\n                setConfirmPassword('');\r\n                setAccountCreated(true);\r\n            }else{\r\n                setAlerts(errors);\r\n            }\r\n        })\r\n        .catch(() => {\r\n            props.history.push('/error');\r\n        });\r\n    }\r\n   \r\n    if(loading){\r\n        return <div className=\"loading-container\"><BeatLoader loading/></div>;\r\n    }\r\n\r\n    if(isLoggedIn){\r\n        return(\r\n            <Redirect\r\n            to={{\r\n                pathname: '/',\r\n                state: { from: props.location }\r\n            }}\r\n            />\r\n        );\r\n    }\r\n\r\n    const alertsList = alerts.map(elem => {return <div className=\"alert\" role=\"alert\" key={elem.msg}>{elem.msg}</div>});\r\n\r\n    return (    \r\n        <div className=\"form-container\">\r\n            <form className=\"form\"> \r\n                <p className=\"form-title\">Register as a new user</p>\r\n                <div className=\"input-title\">Email</div>\r\n                <input type=\"email\" name=\"email\" onChange={(e) => setEmail(e.target.value)} value={email}/><br/>\r\n                <div className=\"input-title\">Password</div>\r\n                <input type=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)} value={password}/><br/>\r\n                <div className=\"input-title\">Confirm password</div>\r\n                <input type=\"password\" name=\"confirmPassword\" onChange={(e) => setConfirmPassword(e.target.value)} value={confirmPassword}/><br/>\r\n                <div className=\"submit-container\">\r\n                    <button className=\"submit-button\" onClick={onSubmit}>SIGN UP</button>\r\n                </div>                \r\n            </form>\r\n            <div className=\"alert-container\">\r\n                <div className=\"alert\" role=\"alert\" style={{display: accountCreated ? '' : 'none'}}>Please, check your email for confirmation.</div>\r\n                {alertsList}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SignUp;","import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nfunction Navigation(props){ \r\n    const [genres, setGenres] = useState([]);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        \r\n        Axios.get('http://localhost:8000/api/genres/getAll', {withCredentials: true})\r\n        .then(res => {\r\n            if(mounted){\r\n                setGenres(res.data);\r\n            }\r\n        })\r\n        .catch(() => props.history.push('/error'));\r\n        \r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [props.history]);\r\n\r\n    const genreList = genres.map(genre => {\r\n        return(\r\n            <button type=\"button\" onClick={() => {props.history.push(`/books?genre=${genre.name}`);  window.location.reload()}} key={genre.name}>{genre.name}</button>\r\n        );\r\n    });\r\n\r\n    return(\r\n        <div className=\"nav-bar\">\r\n            <button key=\"all\" type=\"button\" onClick={() => {props.history.push('/books'); window.location.reload()}}>All</button>\r\n            {genreList}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(Navigation);\r\n","import {firebase} from '@firebase/app';\r\nimport 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: \"alexandria-53ea0.firebaseapp.com\",\r\n    projectId: \"alexandria-53ea0\",\r\n    storageBucket: \"alexandria-53ea0.appspot.com\",\r\n    messagingSenderId: \"399793836289\",\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n    measurementId: \"G-NRTW5NVMNN\"\r\n};\r\n// Initialize Firebase\r\nexport const app = firebase.initializeApp(firebaseConfig);\r\n","import React, {useState, useEffect} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {app} from '../../firebase/index';\r\nimport {BeatLoader} from 'react-spinners';\r\n\r\nfunction FeaturedBook(props){\r\n    const [imageUrl, setImageUrl] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        if(mounted){\r\n            const storageRef = app.storage().ref();\r\n            storageRef.child(`${props.book.image}`).getDownloadURL()\r\n            .then((url) => {\r\n                    setImageUrl(url);\r\n                    setLoading(false);\r\n                }\r\n            )\r\n            .catch(() => props.history.push('/error'));\r\n        }\r\n\r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [props.book.image, props.history]);\r\n\r\n    if(loading){\r\n        return <div className=\"loading-container\"><BeatLoader loading/></div>;\r\n    }\r\n\r\n    return(\r\n        <div className=\"featured-book-item\">\r\n                <div className=\"featured-image-container\">\r\n                    <button onClick={() => {props.history.push(\"/book/\" + props.book.title)}}>\r\n                        <img src={imageUrl} alt=\"\"/>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(FeaturedBook);","import React from 'react';\r\n\r\nfunction Footer(){\r\n    return(\r\n        <div className=\"footer\">\r\n            Developed by <a href={'https://github.com/hshirov'}>Hristo Shirov</a>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {BeatLoader} from 'react-spinners';\r\nimport '../css/home.css';\r\nimport Navigation from './partial/navigation';\r\nimport FeaturedBook from './partial/featuredBook';\r\nimport Footer from './partial/footer';\r\n\r\nfunction Home(props){\r\n    const [featuredBooks, setFeaturedBooks] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        Axios.get('http://localhost:8000/api/books/getAllFeatured', {withCredentials: true})\r\n        .then(res => {\r\n            if(mounted){\r\n                setFeaturedBooks(res.data);\r\n                setLoading(false);\r\n            }\r\n        })\r\n        .catch(() => props.history.push('/error'));\r\n\r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [props.history]);\r\n\r\n    const featuredBookList = featuredBooks.map(book => {return <FeaturedBook key={book.title} book={book}/>});\r\n\r\n    if(loading){\r\n        return <div className=\"loading-container\"><BeatLoader loading/></div>;\r\n    }\r\n    \r\n    return (\r\n        <div>        \r\n            <Navigation />\r\n            <h2 className=\"featured-title\">Featured</h2>\r\n            <div className=\"featured-container\">        \r\n                {featuredBookList}\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(Home);","import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {BeatLoader} from 'react-spinners';\r\nimport '../css/forms.css';\r\n\r\nfunction LogIn(props){\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [alerts, setAlerts] = useState([]);\r\n    const [isLoggedIn, setIsLoggedIn] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        Axios.get('http://localhost:8000/api/checkAuthentication', { withCredentials: true })\r\n        .then(result => {\r\n            setIsLoggedIn(result.data);\r\n            setLoading(false);\r\n        })\r\n        .catch(() => props.history.push('/error'));\r\n    }, [props.history]);\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault()\r\n        // Reset the alerts on every call to the API\r\n        setAlerts([]);\r\n\r\n        Axios.post('http://localhost:8000/api/login', {email: email, password: password}, { withCredentials: true })\r\n        .then((res) => {\r\n            const errors = res.data.errors;        \r\n            if(errors.length > 0 && errors[0].msg === 'Successfully Authenticated'){\r\n                // If login was successful, redirect to home\r\n                props.history.push('/');\r\n                // this updates the isLoggedIn state in the header\r\n                window.location.reload();\r\n            }else{\r\n                setAlerts(errors);\r\n            }\r\n        })\r\n        .catch(() => {\r\n            props.history.push('/error');\r\n        });\r\n    }\r\n\r\n    if(loading){\r\n        return <div className=\"loading-container\"><BeatLoader loading/></div>;\r\n    }\r\n\r\n    if(isLoggedIn){\r\n        return(\r\n            <Redirect\r\n            to={{\r\n                pathname: '/',\r\n                state: { from: props.location }\r\n            }}\r\n            />\r\n        );\r\n    }\r\n\r\n    const alertsList = alerts.map(elem => {return <div className=\"alert\" role=\"alert\" key={elem.msg}>{elem.msg}</div>});\r\n\r\n    return (\r\n        <div className=\"form-container\">\r\n            <form className=\"form\">\r\n                <p className=\"form-title\">Login as existing user</p>\r\n                <div className=\"input-title\">Email</div>\r\n                <input type=\"email\" name=\"email\" onChange={(e) => setEmail(e.target.value)} value={email}/>\r\n                <div className=\"input-title\">Password</div>\r\n                <input type=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)} value={password}/>\r\n                <div className=\"submit-container\">\r\n                    <button className=\"submit-button\" onClick={onSubmit}>LOGIN</button><br />\r\n                    or <button onClick={() => props.history.push('/signup')}>Sign up</button>\r\n                </div>     \r\n            </form>\r\n            <div className=\"alert-container\">\r\n                {alertsList}\r\n            </div>            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LogIn;","import React from 'react';\r\n\r\nexport function AddToBasketIcon(props){\r\n    return(\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width={props.width} height={props.height} fill=\"currentColor\" className=\"bi bi-bag-plus\" viewBox=\"0 0 16 16\">\r\n            <path fillRule=\"evenodd\" d=\"M8 1a2.5 2.5 0 0 0-2.5 2.5V4h5v-.5A2.5 2.5 0 0 0 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5H2z\"/>\r\n            <path fillRule=\"evenodd\" d=\"M8 7.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0v-1.5H6a.5.5 0 0 1 0-1h1.5V8a.5.5 0 0 1 .5-.5z\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport function DescendingIcon(props){\r\n    return(\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width={props.width} height={props.height} fill=\"currentColor\" className=\"bi bi-sort-down\" viewBox=\"0 -2 16 16\">\r\n            <path d=\"M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293V2.5zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport function AscendingIcon(props){\r\n    return(\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width={props.width} height={props.height} fill=\"currentColor\" className=\"bi bi-sort-down-alt\" viewBox=\"0 -2 16 16\">\r\n            <path d=\"M3.5 3.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 12.293V3.5zm4 .5a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm0 3a.5.5 0 0 1 0-1h3a.5.5 0 0 1 0 1h-3zm0 3a.5.5 0 0 1 0-1h5a.5.5 0 0 1 0 1h-5zM7 12.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7a.5.5 0 0 0-.5.5z\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport function XIcon(props){\r\n    return(\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width={props.width} height={props.height} fill=\"#d90000\" className=\"bi bi-x\" viewBox=\"3 0 16 16\">\r\n            <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport function CheckmarkIcon(props){\r\n    return(\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width={props.width} height={props.height} fill=\"currentColor\" className=\"bi bi-check\" viewBox=\"0 -3 16 16\">\r\n            <path fillRule=\"evenodd\" d=\"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport function LogOutIcon(props){\r\n    return(\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width={props.width} height={props.height} fill=\"currentColor\" className=\"bi bi-box-arrow-right\" viewBox=\"0 0 16 16\">\r\n            <path fillRule=\"evenodd\" d=\"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z\"/>\r\n            <path fillRule=\"evenodd\" d=\"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\n\r\nexport function BasketIcon(props){\r\n    return(\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width={props.width} height={props.height} fill=\"currentColor\" className=\"bi bi-basket3\" viewBox=\"0 0 16 16\">\r\n            <path fillRule=\"evenodd\" d=\"M5.757 1.071a.5.5 0 0 1 .172.686L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15.5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H.5a.5.5 0 0 1-.5-.5v-1A.5.5 0 0 1 .5 6h1.717L5.07 1.243a.5.5 0 0 1 .686-.172zM3.394 15l-1.48-6h-.97l1.525 6.426a.75.75 0 0 0 .729.574h9.606a.75.75 0 0 0 .73-.574L15.056 9h-.972l-1.479 6h-9.21z\"/>\r\n        </svg>\r\n    );\r\n}","import React, {useState, useEffect} from 'react';\r\nimport {AddToBasketIcon} from './icons';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {app} from '../../firebase/index';\r\nimport {BeatLoader} from 'react-spinners';\r\n\r\nfunction Book(props){\r\n    const [imageUrl, setImageUrl] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        \r\n        if(mounted){\r\n            const storageRef = app.storage().ref();\r\n            storageRef.child(`${props.book.image}`).getDownloadURL()\r\n            .then((url) => {\r\n                    setImageUrl(url);\r\n                    setLoading(false);\r\n                }\r\n            )\r\n            .catch(() => props.history.push('/error'));\r\n        }\r\n\r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [props.book.image, props.history]);\r\n\r\n    if(loading){\r\n        return <div className=\"loading-container\"><BeatLoader loading/></div>;\r\n    }\r\n\r\n    return(\r\n        <div className=\"book-item\" key={props.book._id}>\r\n            <div className=\"image-container\">\r\n                <button onClick={() => {props.history.push(\"/book/\" + props.book.title)}}>\r\n                    <img src={imageUrl} alt=\"\"/>\r\n                </button>\r\n            </div>\r\n            <div className=\"description-container\">\r\n                <h2 className=\"book-title\">{props.book.title}</h2>\r\n                <h3 className=\"book-author\">{props.book.author}</h3>\r\n                <button className=\"book-add-to-basket\" title=\"Add to basket\" onClick={() => {props.addToBasket(props.book._id)}} style={{display: props.book.available ? '' : 'none'}}>\r\n                    <AddToBasketIcon width=\"20\" height=\"20\"/>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(Book);","import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {BeatLoader} from 'react-spinners';\r\nimport {toast} from 'react-toastify';\r\nimport '../css/books.css';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Navigation from './partial/navigation';\r\nimport Book from './partial/book';\r\nimport {DescendingIcon, AscendingIcon} from './partial/icons';\r\nconst qs = require('qs');\r\n\r\nfunction Books(props){\r\n    const [books, setBooks] = useState([]);\r\n    const [genre] = useState(qs.parse(props.location.search, {ignoreQueryPrefix: true}).genre);\r\n    const [sortBy] = useState(qs.parse(props.location.search, {ignoreQueryPrefix: true}).orderby);\r\n    const [descending] = useState(qs.parse(props.location.search, {ignoreQueryPrefix: true}).descending);\r\n    const [loading, setLoading] = useState(true);\r\n    toast.configure();\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        \r\n        const APIRequest = `http://localhost:8000/api/books/getAll?genre=${genre ? genre : ''}&orderby=${sortBy ? sortBy : 'title'}&descending=${descending ? descending : 'false'}`;\r\n        Axios.get(APIRequest, {withCredentials: true})\r\n        .then(res => {\r\n            if(mounted){\r\n                setBooks(res.data);\r\n                setLoading(false);\r\n            }\r\n        })\r\n        .catch(() => props.history.push('/error'));\r\n        \r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [genre, descending, sortBy, props.history]);\r\n\r\n    const addToBasket = (id) => {\r\n        Axios.get(`http://localhost:8000/api/basket/add/${id}`, {withCredentials: true})\r\n        .then(() => {toast.info(\"Book added to basket!\", {position: toast.POSITION.BOTTOM_RIGHT, pauseOnHover: false, autoClose: 2000})});\r\n    };\r\n\r\n    // Saves the sorting options in the URL\r\n    const redirect = (genre, orderBy, descending) => {\r\n        props.history.push({\r\n            pathname: '/books',\r\n            search: `?genre=${genre ? genre : ''}&orderby=${orderBy ? orderBy : 'title'}&descending=${descending ? descending : 'false'}`\r\n          })\r\n          window.location.reload();\r\n    }\r\n\r\n    const bookList = books.map(book => {\r\n        return(\r\n            <Book book={book} key={book.title} addToBasket={addToBasket}/>\r\n        );\r\n    });\r\n\r\n    if(loading){\r\n        return <div className=\"loading-container\"><BeatLoader loading/></div>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Navigation />\r\n            <h1 className=\"genre-title\">{genre}</h1>\r\n            <div className=\"sort-options-container\">\r\n                <form className=\"order-by-form\">\r\n                    <label>\r\n                        Order by:&nbsp;\r\n                        <select value={sortBy} onChange={(e) => redirect(genre, e.target.value, descending)}>\r\n                            <option value=\"title\">Title</option>\r\n                            <option value=\"author\">Author</option>\r\n                            <option value=\"price\">Price</option>\r\n                        </select>\r\n                    </label>\r\n                    <button type=\"button\" onClick={() => redirect(genre, sortBy, descending === 'true' ? 'false' : 'true')}>\r\n                    {descending === 'true' ? <DescendingIcon width=\"20\" height=\"20\"/> : <AscendingIcon width=\"20\" height=\"20\"/>}\r\n                </button>  \r\n                </form>\r\n            </div>\r\n            <div className=\"book-container\">\r\n                {bookList}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(Books);","import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {BeatLoader} from 'react-spinners';\r\nimport {toast} from 'react-toastify';\r\nimport {CheckmarkIcon} from './partial/icons';\r\nimport {app} from '../firebase/index';\r\nimport '../css/books.css';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction Book(props){\r\n    const [book, setBook] = useState({});\r\n    const {title} = props.match.params;\r\n    const [loading, setLoading] = useState(true);\r\n    const [imageUrl, setImageUrl] = useState('');\r\n    toast.configure();\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        Axios.get(`http://localhost:8000/api/books/get/${title}`, {withCredentials: true})\r\n        .then(res => {\r\n            if(mounted){\r\n                setBook(res.data);  \r\n                const storageRef = app.storage().ref();\r\n                storageRef.child(`${res.data.image}`).getDownloadURL()\r\n                .then(url => {\r\n                        setImageUrl(url);\r\n                        setLoading(false);\r\n                    }\r\n                );\r\n            }       \r\n        })\r\n        .catch(() => props.history.push('/error'));\r\n\r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [title, props.history]);\r\n\r\n    const addToBasket = (id) => {\r\n        Axios.get(`http://localhost:8000/api/basket/add/${id}`, {withCredentials: true})\r\n        .then(() => {toast.info(\"Book added to basket!\", {position: toast.POSITION.BOTTOM_RIGHT, pauseOnHover: false, autoClose: 2000})});\r\n    };\r\n\r\n    const availability = book.available ?\r\n    <p className=\"single-book-in-stock\"><CheckmarkIcon width=\"20\" height=\"20\"/>In stock</p> \r\n    : <p className=\"single-book-out-of-stock\">Out of stock</p>;\r\n\r\n    if(loading){\r\n        return <div className=\"loading-container\"><BeatLoader loading/></div>;\r\n    }\r\n    \r\n    return (\r\n        <div className=\"single-book-container\">\r\n            <div className=\"single-book-image\">\r\n                <img src={imageUrl} alt=\"\"/>\r\n            </div>\r\n            <div className=\"single-book-info\">\r\n                <h1 className=\"single-book-title\">{book.title}</h1>\r\n                <h2 className=\"single-book-author\">by {book.author}</h2>\r\n                <p className=\"single-book-genre\">Genre: {book.genre}</p>\r\n                <p className=\"single-book-date\" style={{display: book.publishedDate === '' ? 'none' : ''}}>Published: {book.publishedDate}</p>\r\n                <p className=\"single-book-price\">${book.price}</p>\r\n                {availability}\r\n                <button className=\"single-book-add-to-basket\" onClick={() => {addToBasket(book._id)}}\r\n                style={{display: book.available ? '' : 'none'}}>\r\n                    Add to basket\r\n                </button>\r\n                <div className=\"single-book-description\">\r\n                    <h1 style={{display: book.description === '' ? 'none' : ''}}>Description</h1> \r\n                    {book.description}\r\n                </div>\r\n            </div> \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(Book);","import React, {useState, useEffect} from 'react';\r\nimport {XIcon} from './icons';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {app} from '../../firebase/index';\r\nimport {BeatLoader} from 'react-spinners';\r\n\r\nfunction BasketItem(props){\r\n    const [imageUrl, setImageUrl] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        const storageRef = app.storage().ref();\r\n        storageRef.child(`${props.book.item.image}`).getDownloadURL()\r\n        .then((url) => {\r\n                if(mounted){\r\n                    setImageUrl(url);\r\n                    setLoading(false);\r\n                }\r\n            }\r\n        )\r\n        .catch(() => props.history.push('/error'));\r\n\r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [props.book.item.image, props.history]);\r\n\r\n    if(loading){\r\n        return <div><BeatLoader loading/></div>;\r\n    }\r\n\r\n    return(\r\n        <div className=\"book-in-basket\" key={props.book.item._id}>\r\n            <button onClick={() => {props.history.push(\"/book/\" + props.book.item.title)}}>\r\n                <img src={imageUrl} alt=\"\"/>\r\n            </button>\r\n            <div className=\"book-in-basket-info\">\r\n                <h2>{props.book.item.title}</h2>\r\n                <p>${props.book.item.price} x {props.book.quantity}</p>\r\n                <button onClick={() => props.removeItem(props.book.item._id)}><XIcon width=\"30\" height=\"30\" /></button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(BasketItem);","import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {BeatLoader} from 'react-spinners';\r\nimport {toast} from 'react-toastify';\r\nimport BasketItem from './partial/basketItem';\r\nimport '../css/basket.css';\r\n\r\nfunction Basket(props){\r\n    const [items, setItems] = useState([]);\r\n    const [totalPrice, setTotalPrice] = useState(0);\r\n    const [isBasketEmpty, setisBasketEmpty] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    toast.configure();\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        Axios.get('http://localhost:8000/api/basket/getItems', {withCredentials: true})\r\n        .then(res => {\r\n            if(mounted){\r\n                if(res.data === 'emptyBasket'){\r\n                    setisBasketEmpty(true);\r\n                }else{\r\n                    setisBasketEmpty(false);\r\n                    const requestedItems = res.data;\r\n                    setItems(requestedItems.array);\r\n                    setTotalPrice(requestedItems.totalPrice);\r\n                }\r\n                setLoading(false);\r\n            }\r\n        })\r\n        .catch(() => props.history.push('/error'));\r\n\r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [props.history]);\r\n\r\n    const clearBasket = () => {\r\n        Axios.get('http://localhost:8000/api/basket/clear', {withCredentials: true})\r\n        .then(() => {\r\n            toast.info(\"Basket cleared!\", {position: toast.POSITION.BOTTOM_RIGHT, pauseOnHover: false, autoClose: 2000});\r\n            setisBasketEmpty(true);\r\n        });\r\n    }\r\n\r\n    const removeItem = (id) => {\r\n        Axios.get(`http://localhost:8000/api/basket/remove/${id}`, {withCredentials: true})\r\n        .then(() => {\r\n            window.location.reload();\r\n        });\r\n    }\r\n\r\n    if(loading){\r\n        return <div className=\"loading-container\"><BeatLoader loading/></div>;\r\n    }\r\n\r\n    if(isBasketEmpty){\r\n        return(\r\n            <div className=\"basket-empty-container\">\r\n                <h1>Your basket is empty. Go do some shopping.</h1>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const itemList = items.map(book => {\r\n        return(\r\n            <BasketItem book={book} removeItem={removeItem} key={book.item.title} />\r\n        );\r\n    });\r\n\r\n    return (\r\n        <div className=\"basket-container\">\r\n            <div className=\"basket-items-container\">\r\n                {itemList}\r\n            </div>\r\n            <div className=\"basket-info\">\r\n                <h2>Total: ${totalPrice}</h2>\r\n                <button onClick={clearBasket}>Clear basket</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Basket;","import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {LogOutIcon, BasketIcon} from './icons';\r\nimport '../../css/header.css';\r\n\r\nfunction Header(props){\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        Axios.get('http://localhost:8000/api/checkAuthentication', { withCredentials: true })\r\n        .then(result => {\r\n            if(mounted){\r\n                if(result.data){\r\n                    setIsLoggedIn(result.data);\r\n                    Axios.get('http://localhost:8000/api/checkAdminAuthentication', { withCredentials: true })\r\n                    .then(data => {\r\n                        setIsAdmin(data.data);\r\n                        setLoading(false);\r\n                    });\r\n                }else{\r\n                    setIsAdmin(false);\r\n                    setLoading(false);\r\n                }\r\n            }\r\n        })\r\n        .catch(() => props.history.push('/error'));\r\n\r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [props.history]);\r\n\r\n    const logOut = () => {\r\n        Axios.get('http://localhost:8000/api/logout', { withCredentials: true })\r\n        .then(result => {\r\n            props.history.push(result.data);\r\n            setIsLoggedIn(false);\r\n        })\r\n        .catch(() => {\r\n            props.history.push('/error');\r\n        });\r\n    }\r\n\r\n    if(loading){\r\n        return(\r\n            <div className=\"header\">\r\n                <div className=\"logo\" onClick={() => props.history.push('/')}><p>Alexandria</p></div>       \r\n            </div>\r\n        );\r\n    }\r\n\r\n    if(isLoggedIn){\r\n        return(\r\n            <div className=\"header\">\r\n                <div className=\"logo\" onClick={() => props.history.push('/')}><p>Alexandria</p></div> \r\n                <div className=\"log\">\r\n                    <button className=\"basket-button\" title=\"Basket\" onClick={() => props.history.push('/basket')}>\r\n                        <BasketIcon width=\"20\" height=\"20\" />\r\n                    </button>             \r\n                    <button className=\"log-out-button\" title=\"Log Out\" onClick={logOut}>\r\n                        <LogOutIcon width=\"20\" height=\"20\" />\r\n                    </button>\r\n                    <button style={{display: isAdmin ? '' : 'none'}} onClick={() => {props.history.push('/admin'); window.location.reload()}}>Admin panel</button>\r\n                </div>       \r\n            </div>\r\n        );\r\n    }\r\n\r\n    // If not logged in\r\n    return(\r\n        <div className=\"header\">\r\n            <div className=\"logo\" onClick={() => props.history.push('/')}><p>Alexandria</p></div>\r\n            <div className=\"log\">\r\n                <button className=\"basket-button\" title=\"Basket\" onClick={() => props.history.push('/basket')}>\r\n                    <BasketIcon width=\"20\" height=\"20\" />\r\n                </button>\r\n                <button onClick={() => props.history.push('/login')}>Login</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(Header);","import React from 'react';\r\n\r\nfunction Error(props){\r\n    return(\r\n        <div>\r\n            <h1>500</h1>\r\n            <h2>Something went wrong :(</h2>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Error;","import React from 'react';\r\nimport '../../css/admin.css';\r\n\r\nfunction Home(props){\r\n    return(\r\n        <div>\r\n            <h1 className=\"admin-panel-title\">Admin Panel</h1>\r\n            <div className=\"admin-buttons-container\">\r\n                <button className=\"admin-button\" onClick={() => props.history.push('/admin/add')}>Add</button><br/>\r\n                <button className=\"admin-button\" onClick={() => props.history.push('/admin/books')}>Modify</button>\r\n            </div>           \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import React, {useState, useEffect} from 'react';\r\nimport {app} from '../../firebase/index';\r\nimport {toast} from 'react-toastify';\r\nimport Axios from 'axios';\r\n\r\nfunction Add(props){\r\n    const [image, setImage] = useState(null);\r\n    const [title, setTitle] = useState('');\r\n    const [author, setAuthor] = useState('');\r\n    const [genre, setGenre] = useState('');\r\n    const [price, setPrice] = useState('');\r\n    const [publishedDate, setPublishedDate] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [availability, setAvailability] = useState(true);\r\n    const [featured, setFeatured] = useState(false);\r\n    const [alerts, setAlerts] = useState([]);\r\n    const [genres, setGenres] = useState([]);\r\n    toast.configure();\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        Axios.get('http://localhost:8000/api/genres/getAll', {withCredentials: true})\r\n        .then(res => {\r\n            if(mounted){\r\n                const requestedGenres = res.data;\r\n                setGenres(requestedGenres);\r\n            }\r\n        })\r\n        .catch(() => {\r\n            props.history.push('/error');\r\n        });\r\n\r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [props.history]);\r\n\r\n    const handleChange = event => {\r\n        const img = event.target.files[0];\r\n        setImage(img);\r\n    }\r\n\r\n    // Accessing firebase is done client-side\r\n    const uploadImage = async () => {\r\n        const storageRef = await app.storage().ref();\r\n        const imageName = title + ' - ' + author;\r\n        const fileRef = await storageRef.child(imageName);\r\n        await fileRef.put(image);\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        const imageName = title + ' - ' + author;\r\n        Axios.post('http://localhost:8000/api/admin/add', {title: title, author: author, genre: genre, price: price, \r\n        publishedDate: publishedDate, description: description, availability: availability, featured: featured, image: imageName}, {withCredentials: true})\r\n        .then(res => {\r\n            const errors = res.data.errors;\r\n            if(errors.length > 0 && errors[0].msg === 'Succesfully created'){\r\n                setAlerts([]);                               \r\n                uploadImage();\r\n                toast.success(\"Book added!\", {position: toast.POSITION.BOTTOM_RIGHT, pauseOnHover: false, autoClose: 2000});\r\n                setTimeout(() => window.location.reload(), 2000);\r\n            }else{\r\n                setAlerts(errors);\r\n            }\r\n        })\r\n        .catch(() => {\r\n            props.history.push('/error');\r\n        });\r\n    }\r\n\r\n    const isInputNumber = (event) => {\r\n        const ch = String.fromCharCode(event.which);\r\n        if(!(/[0-9]/.test(ch))){\r\n            event.preventDefault();\r\n        }\r\n    }\r\n\r\n    const alertsList = alerts.map(elem => {return <div className=\"alert\" role=\"alert\" key={elem.msg}>{elem.msg}</div>});\r\n    const genreOptions = genres.map(genre => {return <option value={genre.name} key={genre.name}>{genre.name}</option>}); \r\n\r\n    return(\r\n        <div className=\"form-container\">        \r\n            <form className=\"form-admin\">\r\n                <h1 className=\"admin-add-title\">Add a new book</h1>\r\n                <input type=\"text\" name=\"title\" placeholder=\"*Title\" maxLength=\"255\" value={title} onChange={(e) => setTitle(e.target.value)}/>\r\n                <input type=\"text\" name=\"author\" placeholder=\"*Author\" value={author} maxLength=\"255\" onChange={(e) => setAuthor(e.target.value)}/>\r\n                <select className=\"genre-dropdown\" value={genre} onChange={(e) => setGenre(e.target.value)}>\r\n                    <option value=\"\" disabled defaultValue>Select genre</option>\r\n                    {genreOptions}\r\n                </select>\r\n                <textarea type=\"text\" name=\"description\" placeholder=\"Description\" maxLength=\"255\" value={description} onChange={(e) => setDescription(e.target.value)}/>\r\n                <input type=\"text\" name=\"price\" min=\"1\" max=\"999\" placeholder=\"*Price in dollars\" maxLength=\"5\" value={price} onChange={(e) => setPrice(e.target.value)} onKeyPress={(e) => isInputNumber(e)}/>\r\n                <input type=\"text\" name=\"publishedDate\" placeholder=\"Published Date\" maxLength=\"255\" value={publishedDate} onChange={(e) => setPublishedDate(e.target.value)}/>\r\n                <div className=\"drain\">\r\n                    <input type=\"checkbox\" id=\"availability\" name=\"availability\" checked={availability} onChange={() => setAvailability(!availability)} />\r\n                    <label htmlFor=\"availability\">Is available</label><br/>\r\n                    <input type=\"checkbox\" id=\"featured\" name=\"featured\" checked={featured} onChange={() => setFeatured(!featured)} />\r\n                    <label htmlFor=\"featured\">Featured on home page</label><br/>\r\n                    <label htmlFor=\"file\">Select book cover image:</label>\r\n                    <input id=\"file\" type=\"file\" onChange={(e) => handleChange(e)}/><br/>\r\n                </div>     \r\n                <button className=\"submit-button\" onClick={(e) => handleSubmit(e)} style={{display: image ? '' : 'none'}}>Add</button>\r\n                {alertsList}\r\n            </form>\r\n            <button className=\"admin-back-button\" onClick={() => props.history.push('/admin')}>Back to admin panel</button>      \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Add;","import React, {useState, useEffect} from 'react';\r\nimport {XIcon} from '../../partial/icons';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {app} from '../../../firebase/index';\r\nimport {BeatLoader} from 'react-spinners';\r\n\r\nfunction Book(props){\r\n    const [imageUrl, setImageUrl] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        if(mounted){\r\n            const storageRef = app.storage().ref();\r\n            storageRef.child(`${props.book.image}`).getDownloadURL()\r\n            .then(url => {\r\n                    setImageUrl(url);\r\n                    setLoading(false);\r\n                }\r\n            )\r\n            .catch(() => props.history.push('/error'));\r\n        }\r\n        \r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [props.book.image, props.history]);\r\n\r\n    if(loading){\r\n        return <div className=\"loading-container\"><BeatLoader loading/></div>;\r\n    }\r\n\r\n    return(\r\n        <div className=\"book-item\" key={props.book._id}>\r\n            <div className=\"image-container\">\r\n                <button onClick={() => {props.history.push(\"/admin/book/\" + props.book.title)}}>\r\n                    <img src={imageUrl} alt=\"\"/>\r\n                </button>\r\n            </div>\r\n            <div className=\"description-container\">\r\n                <h2 className=\"book-title\">{props.book.title}</h2>\r\n                <h3 className=\"book-author\">{props.book.author}</h3>\r\n                <button className=\"book-add-to-basket\" title=\"Remove\" onClick={() => {props.remove(props.book._id, props.book.image)}}>\r\n                    <XIcon width=\"30\" height=\"30\"/>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(Book);","import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {BeatLoader} from 'react-spinners';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {DescendingIcon, AscendingIcon} from '../partial/icons';\r\nimport Book from './partial/book';\r\nimport {app} from '../../firebase/index';\r\nconst qs = require('qs');\r\n\r\nfunction Books(props){\r\n    const [books, setBooks] = useState([]);\r\n    const [genre] = useState(qs.parse(props.location.search, {ignoreQueryPrefix: true}).genre);\r\n    const [sortBy] = useState(qs.parse(props.location.search, {ignoreQueryPrefix: true}).orderby);\r\n    const [descending] = useState(qs.parse(props.location.search, {ignoreQueryPrefix: true}).descending);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        const APIRequest = `http://localhost:8000/api/books/getAll?genre=${genre ? genre : ''}&orderby=${sortBy ? sortBy : 'title'}&descending=${descending ? descending : 'false'}`;\r\n        Axios.get(APIRequest, {withCredentials: true})\r\n        .then(res => {\r\n            if(mounted){\r\n                setBooks(res.data);\r\n                setLoading(false);\r\n            }\r\n        })\r\n        .catch(() => props.history.push('/error'));\r\n\r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [descending, genre, sortBy, props.history]);\r\n\r\n    // Saves the sorting options in the URL\r\n    const redirect = (genre, orderBy, descending) => {\r\n        props.history.push({\r\n            pathname: '/admin/books',\r\n            search: `?genre=${genre ? genre : ''}&orderby=${orderBy ? orderBy : 'title'}&descending=${descending ? descending : 'false'}`\r\n          });\r\n          window.location.reload();\r\n    }\r\n\r\n    const remove = (id, image) => {\r\n        Axios.post('http://localhost:8000/api/admin/remove', {id: id}, {withCredentials: true})\r\n        .then(() => {\r\n            const storageRef = app.storage().ref();\r\n            storageRef.child(image).delete();\r\n            window.location.reload();\r\n        })\r\n        .catch(() => props.history.push('/error'));\r\n    }\r\n\r\n    const bookList = books.map(book => {\r\n        return <Book book={book} remove={remove} key={book.title}/>;\r\n    });\r\n\r\n    if(loading){\r\n        return <div className=\"loading-container\"><BeatLoader loading/></div>;\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <button onClick={() => props.history.push('/admin')}>Back to admin panel</button>   \r\n            <h1 className=\"genre-title\">{genre}</h1>\r\n            <div className=\"sort-options-container\">\r\n                <form className=\"order-by-form\">\r\n                    <label>\r\n                        Order by:&nbsp;\r\n                        <select value={sortBy} onChange={(e) => redirect(genre, e.target.value, descending)}>\r\n                            <option value=\"title\">Title</option>\r\n                            <option value=\"author\">Author</option>\r\n                            <option value=\"price\">Price</option>\r\n                        </select>\r\n                    </label>\r\n                    <button type=\"button\" onClick={() => redirect(genre, sortBy, descending === 'true' ? 'false' : 'true')}>\r\n                    {descending === 'true' ? <DescendingIcon width=\"20\" height=\"20\"/> \r\n                    : <AscendingIcon width=\"20\" height=\"20\"/>}\r\n                </button>  \r\n                </form>             \r\n            </div>\r\n            <div className=\"book-container\">\r\n                {bookList}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(Books);","import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {BeatLoader} from 'react-spinners';\r\nimport {app} from '../../firebase/index';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction Book(props){\r\n    const [book, setBook] = useState({});\r\n    const {title} = props.match.params;\r\n    const [loading, setLoading] = useState(true);\r\n    const [imageUrl, setImageUrl] = useState('');\r\n    const [available, setAvailable] = useState(null);\r\n    const [featured, setFeatured] = useState(null);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        Axios.get(`http://localhost:8000/api/books/get/${title}`, {withCredentials: true})\r\n        .then(res => {\r\n            if(mounted){\r\n                setBook(res.data);       \r\n                const storageRef = app.storage().ref();\r\n                storageRef.child(`${res.data.image}`).getDownloadURL()\r\n                .then((url) => {\r\n                        setImageUrl(url);\r\n                        setAvailable(res.data.available);\r\n                        setFeatured(res.data.featured);\r\n                        setLoading(false);\r\n                    }\r\n                );\r\n            }\r\n        })\r\n        .catch(() => props.history.push('/error'));\r\n\r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [title, props.history]);\r\n\r\n    const updateAvailability = () => {\r\n        Axios.post('http://localhost:8000/api/admin/update', {id: book._id, field: 'available', value: !available}, {withCredentials: true})\r\n        .catch(() => props.history.push('/error'));\r\n        window.location.reload();\r\n    }\r\n\r\n    const updateFeatured = () => {\r\n        Axios.post('http://localhost:8000/api/admin/update', {id: book._id, field: 'featured', value: !featured}, {withCredentials: true})\r\n        .catch(() => props.history.push('/error'));\r\n        window.location.reload();\r\n    }\r\n\r\n    if(loading){\r\n        return <div className=\"loading-container\"><BeatLoader loading/></div>;\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <button onClick={() => props.history.push('/admin/books')}>Back to books</button>\r\n            <div className=\"single-book-container\">\r\n                <div className=\"single-book-image\">\r\n                    <img src={imageUrl} alt=\"\"/>\r\n                </div>\r\n                <div className=\"single-book-info\">\r\n                    <h1 className=\"single-book-title\">{book.title}</h1>\r\n                    <h2 className=\"single-book-author\">by {book.author}</h2>\r\n                    <p className=\"single-book-genre\">Genre: {book.genre}</p>\r\n                    <p className=\"single-book-date\" style={{display: book.publishedDate === '' ? 'none' : ''}}>Published: {book.publishedDate}</p>\r\n                    <p className=\"single-book-price\">${book.price}</p>\r\n                    <button onClick={updateAvailability}>\r\n                        <div className=\"availability-selector\">\r\n                            <div className={available ? \"selected-outline\" : \"\"}>\r\n                                <p className=\"single-book-in-stock\">In stock</p>\r\n                            </div>\r\n                            <div className={!available ? \"selected-outline\" : \"\"}>\r\n                                <p className=\"single-book-out-of-stock\">Out of stock</p>\r\n                            </div>\r\n                        </div>\r\n                    </button><br />\r\n                    <button onClick={updateFeatured}>{featured ? 'Remove from ' : 'Feature on '}home page</button>\r\n                    <div className=\"single-book-description\">\r\n                        <h1 style={{display: book.description === '' ? 'none' : ''}}>Description</h1> \r\n                        {book.description}\r\n                    </div>\r\n                </div> \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(Book);","import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {BeatLoader} from 'react-spinners';\r\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\";\r\n\r\nimport Home from './home';\r\nimport Add from './add';\r\nimport Books from './books';\r\nimport Book from './book';\r\n\r\nfunction AdminIndex(props){\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        Axios.get('http://localhost:8000/api/checkAuthentication', {withCredentials: true})\r\n        .then(result => {\r\n            if(mounted){\r\n                if(result.data){\r\n                    Axios.get('http://localhost:8000/api/checkAdminAuthentication', {withCredentials: true})\r\n                    .then(data => {\r\n                        setIsAdmin(data.data);\r\n                        setLoading(false);\r\n                    });\r\n                }else{\r\n                    setIsAdmin(false);\r\n                    setLoading(false);\r\n                }\r\n            }\r\n        })\r\n        .catch(() => props.history.push('/error'));\r\n\r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [props.history]);\r\n\r\n    if(loading){\r\n        return <div className=\"loading-container\"><BeatLoader loading/></div>;\r\n    }\r\n\r\n    if(!isAdmin){\r\n        return(\r\n            <Redirect\r\n            to={{\r\n                pathname: '/',\r\n                state: { from: props.location }\r\n            }}\r\n            />\r\n        );\r\n    }\r\n\r\n    return(\r\n        <div className=\"admin\">\r\n            <BrowserRouter>\r\n            <div className=\"admin-panel\">\r\n                <Switch>       \r\n                    <Route path=\"/admin\" component={Home} exact/>\r\n                    <Route path=\"/admin/add\" component={Add} />\r\n                    <Route path=\"/admin/books\" component={Books} />\r\n                    <Route path=\"/admin/book/:title\" component={Book} />\r\n                    <Redirect to=\"/\" />\r\n                </Switch>\r\n                </div>\r\n            </BrowserRouter>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminIndex;","import React from \"react\"\nimport {BrowserRouter, Redirect, Route, Switch} from \"react-router-dom\";\n\nimport SignUp from \"./components/signup\";\nimport Home from \"./components/home\";\nimport LogIn from \"./components/login\";\nimport Books from \"./components/books\"\nimport Book from \"./components/book\"\nimport Basket from \"./components/basket\"\nimport Header from \"./components/partial/header\"\nimport Error from \"./components/error/error\"\n//Admin panel\nimport AdminIndex from \"./components/admin/index\";\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <BrowserRouter>\n      <Header />\n      <div className=\"content\">\n          <Switch>       \n            <Route path=\"/\" component={Home} exact/>\n            <Route path=\"/signup\" component={SignUp} />\n            <Route path=\"/login\" component={LogIn} />\n            <Route path=\"/books/:genre?\" component={Books} />\n            <Route path=\"/basket\" component={Basket} />\n            <Route path=\"/book/:title\" component={Book} />\n            <Route path=\"/admin\" component={AdminIndex} />\n            <Route path=\"/error\" component={Error} />\n            <Redirect to=\"/\" />\n          </Switch>\n        </div>\n      </BrowserRouter>\n      </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\n\nimport './css/index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"]}}